import{i as T,t as M,a as W,b as $,c as H,n as R,e as I,f as K}from"./index-d0054790.js";import{L as P,r as z,C as D,e as U,O as q,n as F}from"./index-be8890b2.js";function B(e){var r;const t=M(e);return(r=t==null?void 0:t.$el)!=null?r:t}const C=T?window:void 0;function j(...e){let r,t,a,d;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,a,d]=e,r=C):[r,t,a,d]=e,!r)return R;Array.isArray(t)||(t=[t]),Array.isArray(a)||(a=[a]);const m=[],S=()=>{m.forEach(u=>u()),m.length=0},w=(u,o,p,i)=>(u.addEventListener(o,p,i),()=>u.removeEventListener(o,p,i)),_=D(()=>[B(r),M(d)],([u,o])=>{if(S(),!u)return;const p=I(o)?{...o}:o;m.push(...t.flatMap(i=>a.map(b=>w(u,i,b,p))))},{immediate:!0,flush:"post"}),g=()=>{_(),S()};return K(g),g}function G(e){return JSON.parse(JSON.stringify(e))}const V=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J="__vueuse_ssr_handlers__",Q=X();function X(){return J in V||(V[J]=V[J]||{}),V[J]}function Y(e,r){return Q[e]||r}function Z(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const k={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},x="vueuse-storage";function ee(e,r,t,a={}){var d;const{flush:m="pre",deep:S=!0,listenToStorageChanges:w=!0,writeDefaults:_=!0,mergeDefaults:g=!1,shallow:u,window:o=C,eventFilter:p,onError:i=n=>{console.error(n)},initOnMounted:b}=a,f=(u?q:z)(typeof r=="function"?r():r);if(!t)try{t=Y("getDefaultStorage",()=>{var n;return(n=C)==null?void 0:n.localStorage})()}catch(n){i(n)}if(!t)return f;const c=M(r),A=Z(c),y=(d=a.serializer)!=null?d:k[A],{pause:s,resume:v}=W(f,()=>N(f.value),{flush:m,deep:S,eventFilter:p});return o&&w&&$(()=>{j(o,"storage",E),j(o,x,L),b&&E()}),b||E(),f;function N(n){try{if(n==null)t.removeItem(e);else{const l=y.write(n),h=t.getItem(e);h!==l&&(t.setItem(e,l),o&&o.dispatchEvent(new CustomEvent(x,{detail:{key:e,oldValue:h,newValue:l,storageArea:t}})))}}catch(l){i(l)}}function O(n){const l=n?n.newValue:t.getItem(e);if(l==null)return _&&c!=null&&t.setItem(e,y.write(c)),c;if(!n&&g){const h=y.read(l);return typeof g=="function"?g(h,c):A==="object"&&!Array.isArray(h)?{...c,...h}:h}else return typeof l!="string"?l:y.read(l)}function L(n){E(n.detail)}function E(n){if(!(n&&n.storageArea!==t)){if(n&&n.key==null){f.value=c;return}if(!(n&&n.key!==e)){s();try{(n==null?void 0:n.newValue)!==y.write(f.value)&&(f.value=O(n))}catch(l){i(l)}finally{n?F(v):v()}}}}}function re(e,r,t={}){const{window:a=C}=t;return ee(e,r,a==null?void 0:a.localStorage,t)}function ie(e,r,t,a={}){var d,m,S;const{clone:w=!1,passive:_=!1,eventName:g,deep:u=!1,defaultValue:o,shouldEmit:p}=a,i=P(),b=t||(i==null?void 0:i.emit)||((d=i==null?void 0:i.$emit)==null?void 0:d.bind(i))||((S=(m=i==null?void 0:i.proxy)==null?void 0:m.$emit)==null?void 0:S.bind(i==null?void 0:i.proxy));let f=g;r||(r="modelValue"),f=f||`update:${r.toString()}`;const c=s=>w?typeof w=="function"?w(s):G(s):s,A=()=>H(e[r])?c(e[r]):o,y=s=>{p?p(s)&&b(f,s):b(f,s)};if(_){const s=A(),v=z(s);let N=!1;return D(()=>e[r],O=>{N||(N=!0,v.value=c(O),F(()=>N=!1))}),D(v,O=>{!N&&(O!==e[r]||u)&&y(O)},{deep:u}),v}else return U({get(){return A()},set(s){y(s)}})}export{re as a,ie as u};
//# sourceMappingURL=index-9030784d.js.map
