import{r as v,C as d,u as g,o as w,n as C,$ as F,L as m,a0 as O,a1 as S}from"./index-94e50e53.js";const W=e=>e;function k(e){return O()?(S(e),!0):!1}function x(e){return typeof e=="function"?e():g(e)}const G=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const I=e=>typeof e<"u",A=Object.prototype.toString,L=e=>A.call(e)==="[object Object]",M=()=>{};function b(e,t){function s(...o){return new Promise((n,r)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(n).catch(r)})}return s}const y=e=>e();function P(e=y){const t=v(!0);function s(){t.value=!1}function o(){t.value=!0}const n=(...r)=>{t.value&&e(...r)};return{isActive:F(t),pause:s,resume:o,eventFilter:n}}function j(e){return e||m()}function D(e,t,s={}){const{eventFilter:o=y,...n}=s;return d(e,b(o,t),n)}function U(e,t,s={}){const{eventFilter:o,...n}=s,{eventFilter:r,pause:c,resume:l,isActive:f}=P(o);return{stop:D(e,t,{...n,eventFilter:r}),pause:c,resume:l,isActive:f}}function V(e,t=!0,s){j()?w(e,s):t?e():C(e)}function E(e,t,s={}){const{eventFilter:o=y,...n}=s,r=b(o,t);let c,l,f;if(n.flush==="sync"){const i=v(!1);l=()=>{},c=a=>{i.value=!0,a(),i.value=!1},f=d(e,(...a)=>{i.value||r(...a)},n)}else{const i=[],a=v(0),u=v(0);l=()=>{a.value=u.value},i.push(d(e,()=>{u.value++},{...n,flush:"sync"})),c=p=>{const h=u.value;p(),a.value+=u.value-h},i.push(d(e,(...p)=>{const h=a.value>0&&a.value===u.value;a.value=0,u.value=0,!h&&r(...p)},n)),f=()=>{i.forEach(p=>p())}}return{stop:f,ignoreUpdates:c,ignorePrevAsyncUpdates:l}}export{U as a,V as b,I as c,W as d,L as e,k as f,G as i,M as n,x as t,E as w};
//# sourceMappingURL=index-29e84b10.js.map
