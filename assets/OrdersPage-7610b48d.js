import{w as kt,d as _a}from"./index-23bde766.js";import{u as Wa}from"./useModal-b7625743.js";import{u as ss}from"./index-6c92e5bd.js";import{X as st,r as Z,C as bt,u as Y,Y as pe,d as Ge,Z as Ha,e as ae,f as _,a as Q,c as Ve,h as u,w as O,b as V,t as se,F as Vt,x as Us,$ as as,i as Se,H as Ze,g as Te,p as Ra,m as za,_ as Za,a0 as He,o as Ot,a1 as te}from"./index-9eb6a07a.js";import{u as at}from"./useToast-9c16e40e.js";var ht=(s=>(s.NORMAL="normal",s.AO_DAI="ao_dai",s))(ht||{}),X=(s=>(s.ESCORT="plan_escort",s.SHUTTLE="plan_shuttle",s.CHARTER="plan_charter",s.MASSAGE="plan_dragon_massage",s))(X||{}),fe=(s=>(s.INITIAL="initial",s.COMPLETED="completed",s.FAILED="failed",s.EXPIRED="expired",s.REFUND="refund",s))(fe||{}),pt=(s=>(s.VOIN_PAYMENT="vcoin_payment",s.ECPAY_PAYMENT="payment",s))(pt||{}),ne=(s=>(s.PENDING="pending",s.PROCESSED="processed",s))(ne||{});class Fe extends Error{}class qa extends Fe{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Ga extends Fe{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Ya extends Fe{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class We extends Fe{}class Ls extends Fe{constructor(e){super(`Invalid unit ${e}`)}}class K extends Fe{}class be extends Fe{constructor(){super("Zone is an abstract class")}}const k="numeric",ye="short",oe="long",Tt={year:k,month:k,day:k},_s={year:k,month:ye,day:k},Ba={year:k,month:ye,day:k,weekday:ye},Ws={year:k,month:oe,day:k},Hs={year:k,month:oe,day:k,weekday:oe},Rs={hour:k,minute:k},zs={hour:k,minute:k,second:k},Zs={hour:k,minute:k,second:k,timeZoneName:ye},qs={hour:k,minute:k,second:k,timeZoneName:oe},Gs={hour:k,minute:k,hourCycle:"h23"},Ys={hour:k,minute:k,second:k,hourCycle:"h23"},Bs={hour:k,minute:k,second:k,hourCycle:"h23",timeZoneName:ye},js={hour:k,minute:k,second:k,hourCycle:"h23",timeZoneName:oe},Js={year:k,month:k,day:k,hour:k,minute:k},Xs={year:k,month:k,day:k,hour:k,minute:k,second:k},Qs={year:k,month:ye,day:k,hour:k,minute:k},Ks={year:k,month:ye,day:k,hour:k,minute:k,second:k},ja={year:k,month:ye,day:k,weekday:ye,hour:k,minute:k},ea={year:k,month:oe,day:k,hour:k,minute:k,timeZoneName:ye},ta={year:k,month:oe,day:k,hour:k,minute:k,second:k,timeZoneName:ye},sa={year:k,month:oe,day:k,weekday:oe,hour:k,minute:k,timeZoneName:oe},aa={year:k,month:oe,day:k,weekday:oe,hour:k,minute:k,second:k,timeZoneName:oe};class nt{get type(){throw new be}get name(){throw new be}get ianaName(){return this.name}get isUniversal(){throw new be}offsetName(e,t){throw new be}formatOffset(e,t){throw new be}offset(e){throw new be}equals(e){throw new be}get isValid(){throw new be}}let At=null;class Dt extends nt{static get instance(){return At===null&&(At=new Dt),At}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:a}){return ma(e,t,a)}formatOffset(e,t){return et(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let yt={};function Ja(s){return yt[s]||(yt[s]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:s,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),yt[s]}const Xa={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Qa(s,e){const t=s.format(e).replace(/\u200E/g,""),a=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,n,r,l,i,d,h,p]=a;return[l,n,r,i,d,h,p]}function Ka(s,e){const t=s.formatToParts(e),a=[];for(let n=0;n<t.length;n++){const{type:r,value:l}=t[n],i=Xa[r];r==="era"?a[i]=l:F(i)||(a[i]=parseInt(l,10))}return a}let it={};class Ie extends nt{static create(e){return it[e]||(it[e]=new Ie(e)),it[e]}static resetCache(){it={},yt={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ie.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:a}){return ma(e,t,a,this.name)}formatOffset(e,t){return et(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const a=Ja(this.name);let[n,r,l,i,d,h,p]=a.formatToParts?Ka(a,t):Qa(a,t);i==="BC"&&(n=-Math.abs(n)+1);const v=Et({year:n,month:r,day:l,hour:d===24?0:d,minute:h,second:p,millisecond:0});let o=+t;const f=o%1e3;return o-=f>=0?f:1e3+f,(v-o)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let ns={};function en(s,e={}){const t=JSON.stringify([s,e]);let a=ns[t];return a||(a=new Intl.ListFormat(s,e),ns[t]=a),a}let Ht={};function Rt(s,e={}){const t=JSON.stringify([s,e]);let a=Ht[t];return a||(a=new Intl.DateTimeFormat(s,e),Ht[t]=a),a}let zt={};function tn(s,e={}){const t=JSON.stringify([s,e]);let a=zt[t];return a||(a=new Intl.NumberFormat(s,e),zt[t]=a),a}let Zt={};function sn(s,e={}){const{base:t,...a}=e,n=JSON.stringify([s,a]);let r=Zt[n];return r||(r=new Intl.RelativeTimeFormat(s,e),Zt[n]=r),r}let Qe=null;function an(){return Qe||(Qe=new Intl.DateTimeFormat().resolvedOptions().locale,Qe)}let rs={};function nn(s){let e=rs[s];if(!e){const t=new Intl.Locale(s);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,rs[s]=e}return e}function rn(s){const e=s.indexOf("-x-");e!==-1&&(s=s.substring(0,e));const t=s.indexOf("-u-");if(t===-1)return[s];{let a,n;try{a=Rt(s).resolvedOptions(),n=s}catch{const d=s.substring(0,t);a=Rt(d).resolvedOptions(),n=d}const{numberingSystem:r,calendar:l}=a;return[n,r,l]}}function ln(s,e,t){return(t||e)&&(s.includes("-u-")||(s+="-u"),t&&(s+=`-ca-${t}`),e&&(s+=`-nu-${e}`)),s}function on(s){const e=[];for(let t=1;t<=12;t++){const a=D.utc(2009,t,1);e.push(s(a))}return e}function un(s){const e=[];for(let t=1;t<=7;t++){const a=D.utc(2016,11,13+t);e.push(s(a))}return e}function ut(s,e,t,a){const n=s.listingMode();return n==="error"?null:n==="en"?t(e):a(e)}function dn(s){return s.numberingSystem&&s.numberingSystem!=="latn"?!1:s.numberingSystem==="latn"||!s.locale||s.locale.startsWith("en")||new Intl.DateTimeFormat(s.intl).resolvedOptions().numberingSystem==="latn"}class cn{constructor(e,t,a){this.padTo=a.padTo||0,this.floor=a.floor||!1;const{padTo:n,floor:r,...l}=a;if(!t||Object.keys(l).length>0){const i={useGrouping:!1,...a};a.padTo>0&&(i.minimumIntegerDigits=a.padTo),this.inf=tn(e,i)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):Xt(e,3);return J(t,this.padTo)}}}class mn{constructor(e,t,a){this.opts=a,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const l=-1*(e.offset/60),i=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&Ie.create(i).valid?(n=i,this.dt=e):(n="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,n=e.zone.name):(n="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const r={...this.opts};r.timeZone=r.timeZone||n,this.dtf=Rt(t,r)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const a=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:a}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class fn{constructor(e,t,a){this.opts={style:"long",...a},!t&&da()&&(this.rtf=sn(e,a))}format(e,t){return this.rtf?this.rtf.format(e,t):Pn(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const hn={firstDay:1,minimalDays:4,weekend:[6,7]};class z{static fromOpts(e){return z.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,a,n,r=!1){const l=e||j.defaultLocale,i=l||(r?"en-US":an()),d=t||j.defaultNumberingSystem,h=a||j.defaultOutputCalendar,p=qt(n)||j.defaultWeekSettings;return new z(i,d,h,p,l)}static resetCache(){Qe=null,Ht={},zt={},Zt={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:a,weekSettings:n}={}){return z.create(e,t,a,n)}constructor(e,t,a,n,r){const[l,i,d]=rn(e);this.locale=l,this.numberingSystem=t||i||null,this.outputCalendar=a||d||null,this.weekSettings=n,this.intl=ln(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=dn(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:z.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,qt(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return ut(this,e,pa,()=>{const a=t?{month:e,day:"numeric"}:{month:e},n=t?"format":"standalone";return this.monthsCache[n][e]||(this.monthsCache[n][e]=on(r=>this.extract(r,a,"month"))),this.monthsCache[n][e]})}weekdays(e,t=!1){return ut(this,e,va,()=>{const a=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=t?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=un(r=>this.extract(r,a,"weekday"))),this.weekdaysCache[n][e]})}meridiems(){return ut(this,void 0,()=>wa,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[D.utc(2016,11,13,9),D.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return ut(this,e,Va,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[D.utc(-40,1,1),D.utc(2017,1,1)].map(a=>this.extract(a,t,"era"))),this.eraCache[e]})}extract(e,t,a){const n=this.dtFormatter(e,t),r=n.formatToParts(),l=r.find(i=>i.type.toLowerCase()===a);return l?l.value:null}numberFormatter(e={}){return new cn(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new mn(e,this.intl,t)}relFormatter(e={}){return new fn(this.intl,this.isEnglish(),e)}listFormatter(e={}){return en(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:ca()?nn(this.locale):hn}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let $t=null;class re extends nt{static get utcInstance(){return $t===null&&($t=new re(0)),$t}static instance(e){return e===0?re.utcInstance:new re(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new re(Mt(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${et(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${et(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return et(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class pn extends nt{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ne(s,e){if(F(s)||s===null)return e;if(s instanceof nt)return s;if(Tn(s)){const t=s.toLowerCase();return t==="default"?e:t==="local"||t==="system"?Dt.instance:t==="utc"||t==="gmt"?re.utcInstance:re.parseSpecifier(t)||Ie.create(s)}else return Ee(s)?re.instance(s):typeof s=="object"&&"offset"in s&&typeof s.offset=="function"?s:new pn(s)}const Yt={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},ls={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},yn=Yt.hanidec.replace(/[\[|\]]/g,"").split("");function gn(s){let e=parseInt(s,10);if(isNaN(e)){e="";for(let t=0;t<s.length;t++){const a=s.charCodeAt(t);if(s[t].search(Yt.hanidec)!==-1)e+=yn.indexOf(s[t]);else for(const n in ls){const[r,l]=ls[n];a>=r&&a<=l&&(e+=a-r)}}return parseInt(e,10)}else return e}let _e={};function vn(){_e={}}function ce({numberingSystem:s},e=""){const t=s||"latn";return _e[t]||(_e[t]={}),_e[t][e]||(_e[t][e]=new RegExp(`${Yt[t]}${e}`)),_e[t][e]}let os=()=>Date.now(),is="system",us=null,ds=null,cs=null,ms=60,fs,hs=null;class j{static get now(){return os}static set now(e){os=e}static set defaultZone(e){is=e}static get defaultZone(){return Ne(is,Dt.instance)}static get defaultLocale(){return us}static set defaultLocale(e){us=e}static get defaultNumberingSystem(){return ds}static set defaultNumberingSystem(e){ds=e}static get defaultOutputCalendar(){return cs}static set defaultOutputCalendar(e){cs=e}static get defaultWeekSettings(){return hs}static set defaultWeekSettings(e){hs=qt(e)}static get twoDigitCutoffYear(){return ms}static set twoDigitCutoffYear(e){ms=e%100}static get throwOnInvalid(){return fs}static set throwOnInvalid(e){fs=e}static resetCaches(){z.resetCache(),Ie.resetCache(),D.resetCache(),vn()}}class he{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const na=[0,31,59,90,120,151,181,212,243,273,304,334],ra=[0,31,60,91,121,152,182,213,244,274,305,335];function ue(s,e){return new he("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${s}, which is invalid`)}function Bt(s,e,t){const a=new Date(Date.UTC(s,e-1,t));s<100&&s>=0&&a.setUTCFullYear(a.getUTCFullYear()-1900);const n=a.getUTCDay();return n===0?7:n}function la(s,e,t){return t+(rt(s)?ra:na)[e-1]}function oa(s,e){const t=rt(s)?ra:na,a=t.findIndex(r=>r<e),n=e-t[a];return{month:a+1,day:n}}function jt(s,e){return(s-e+7)%7+1}function St(s,e=4,t=1){const{year:a,month:n,day:r}=s,l=la(a,n,r),i=jt(Bt(a,n,r),t);let d=Math.floor((l-i+14-e)/7),h;return d<1?(h=a-1,d=tt(h,e,t)):d>tt(a,e,t)?(h=a+1,d=1):h=a,{weekYear:h,weekNumber:d,weekday:i,...Ct(s)}}function ps(s,e=4,t=1){const{weekYear:a,weekNumber:n,weekday:r}=s,l=jt(Bt(a,1,e),t),i=Re(a);let d=n*7+r-l-7+e,h;d<1?(h=a-1,d+=Re(h)):d>i?(h=a+1,d-=Re(a)):h=a;const{month:p,day:m}=oa(h,d);return{year:h,month:p,day:m,...Ct(s)}}function Ft(s){const{year:e,month:t,day:a}=s,n=la(e,t,a);return{year:e,ordinal:n,...Ct(s)}}function ys(s){const{year:e,ordinal:t}=s,{month:a,day:n}=oa(e,t);return{year:e,month:a,day:n,...Ct(s)}}function gs(s,e){if(!F(s.localWeekday)||!F(s.localWeekNumber)||!F(s.localWeekYear)){if(!F(s.weekday)||!F(s.weekNumber)||!F(s.weekYear))throw new We("Cannot mix locale-based week fields with ISO-based week fields");return F(s.localWeekday)||(s.weekday=s.localWeekday),F(s.localWeekNumber)||(s.weekNumber=s.localWeekNumber),F(s.localWeekYear)||(s.weekYear=s.localWeekYear),delete s.localWeekday,delete s.localWeekNumber,delete s.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function wn(s,e=4,t=1){const a=Nt(s.weekYear),n=de(s.weekNumber,1,tt(s.weekYear,e,t)),r=de(s.weekday,1,7);return a?n?r?!1:ue("weekday",s.weekday):ue("week",s.weekNumber):ue("weekYear",s.weekYear)}function Vn(s){const e=Nt(s.year),t=de(s.ordinal,1,Re(s.year));return e?t?!1:ue("ordinal",s.ordinal):ue("year",s.year)}function ia(s){const e=Nt(s.year),t=de(s.month,1,12),a=de(s.day,1,It(s.year,s.month));return e?t?a?!1:ue("day",s.day):ue("month",s.month):ue("year",s.year)}function ua(s){const{hour:e,minute:t,second:a,millisecond:n}=s,r=de(e,0,23)||e===24&&t===0&&a===0&&n===0,l=de(t,0,59),i=de(a,0,59),d=de(n,0,999);return r?l?i?d?!1:ue("millisecond",n):ue("second",a):ue("minute",t):ue("hour",e)}function F(s){return typeof s>"u"}function Ee(s){return typeof s=="number"}function Nt(s){return typeof s=="number"&&s%1===0}function Tn(s){return typeof s=="string"}function Sn(s){return Object.prototype.toString.call(s)==="[object Date]"}function da(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function ca(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function In(s){return Array.isArray(s)?s:[s]}function vs(s,e,t){if(s.length!==0)return s.reduce((a,n)=>{const r=[e(n),n];return a&&t(a[0],r[0])===a[0]?a:r},null)[1]}function xn(s,e){return e.reduce((t,a)=>(t[a]=s[a],t),{})}function qe(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function qt(s){if(s==null)return null;if(typeof s!="object")throw new K("Week settings must be an object");if(!de(s.firstDay,1,7)||!de(s.minimalDays,1,7)||!Array.isArray(s.weekend)||s.weekend.some(e=>!de(e,1,7)))throw new K("Invalid week settings");return{firstDay:s.firstDay,minimalDays:s.minimalDays,weekend:Array.from(s.weekend)}}function de(s,e,t){return Nt(s)&&s>=e&&s<=t}function kn(s,e){return s-e*Math.floor(s/e)}function J(s,e=2){const t=s<0;let a;return t?a="-"+(""+-s).padStart(e,"0"):a=(""+s).padStart(e,"0"),a}function De(s){if(!(F(s)||s===null||s===""))return parseInt(s,10)}function Me(s){if(!(F(s)||s===null||s===""))return parseFloat(s)}function Jt(s){if(!(F(s)||s===null||s==="")){const e=parseFloat("0."+s)*1e3;return Math.floor(e)}}function Xt(s,e,t=!1){const a=10**e;return(t?Math.trunc:Math.round)(s*a)/a}function rt(s){return s%4===0&&(s%100!==0||s%400===0)}function Re(s){return rt(s)?366:365}function It(s,e){const t=kn(e-1,12)+1,a=s+(e-t)/12;return t===2?rt(a)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Et(s){let e=Date.UTC(s.year,s.month-1,s.day,s.hour,s.minute,s.second,s.millisecond);return s.year<100&&s.year>=0&&(e=new Date(e),e.setUTCFullYear(s.year,s.month-1,s.day)),+e}function ws(s,e,t){return-jt(Bt(s,1,e),t)+e-1}function tt(s,e=4,t=1){const a=ws(s,e,t),n=ws(s+1,e,t);return(Re(s)-a+n)/7}function Gt(s){return s>99?s:s>j.twoDigitCutoffYear?1900+s:2e3+s}function ma(s,e,t,a=null){const n=new Date(s),r={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};a&&(r.timeZone=a);const l={timeZoneName:e,...r},i=new Intl.DateTimeFormat(t,l).formatToParts(n).find(d=>d.type.toLowerCase()==="timezonename");return i?i.value:null}function Mt(s,e){let t=parseInt(s,10);Number.isNaN(t)&&(t=0);const a=parseInt(e,10)||0,n=t<0||Object.is(t,-0)?-a:a;return t*60+n}function fa(s){const e=Number(s);if(typeof s=="boolean"||s===""||Number.isNaN(e))throw new K(`Invalid unit value ${s}`);return e}function xt(s,e){const t={};for(const a in s)if(qe(s,a)){const n=s[a];if(n==null)continue;t[e(a)]=fa(n)}return t}function et(s,e){const t=Math.trunc(Math.abs(s/60)),a=Math.trunc(Math.abs(s%60)),n=s>=0?"+":"-";switch(e){case"short":return`${n}${J(t,2)}:${J(a,2)}`;case"narrow":return`${n}${t}${a>0?`:${a}`:""}`;case"techie":return`${n}${J(t,2)}${J(a,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Ct(s){return xn(s,["hour","minute","second","millisecond"])}const bn=["January","February","March","April","May","June","July","August","September","October","November","December"],ha=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],On=["J","F","M","A","M","J","J","A","S","O","N","D"];function pa(s){switch(s){case"narrow":return[...On];case"short":return[...ha];case"long":return[...bn];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ya=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ga=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Dn=["M","T","W","T","F","S","S"];function va(s){switch(s){case"narrow":return[...Dn];case"short":return[...ga];case"long":return[...ya];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const wa=["AM","PM"],Nn=["Before Christ","Anno Domini"],En=["BC","AD"],Mn=["B","A"];function Va(s){switch(s){case"narrow":return[...Mn];case"short":return[...En];case"long":return[...Nn];default:return null}}function Cn(s){return wa[s.hour<12?0:1]}function An(s,e){return va(e)[s.weekday-1]}function $n(s,e){return pa(e)[s.month-1]}function Fn(s,e){return Va(e)[s.year<0?0:1]}function Pn(s,e,t="always",a=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},r=["hours","minutes","seconds"].indexOf(s)===-1;if(t==="auto"&&r){const m=s==="days";switch(e){case 1:return m?"tomorrow":`next ${n[s][0]}`;case-1:return m?"yesterday":`last ${n[s][0]}`;case 0:return m?"today":`this ${n[s][0]}`}}const l=Object.is(e,-0)||e<0,i=Math.abs(e),d=i===1,h=n[s],p=a?d?h[1]:h[2]||h[1]:d?n[s][0]:s;return l?`${i} ${p} ago`:`in ${i} ${p}`}function Vs(s,e){let t="";for(const a of s)a.literal?t+=a.val:t+=e(a.val);return t}const Un={D:Tt,DD:_s,DDD:Ws,DDDD:Hs,t:Rs,tt:zs,ttt:Zs,tttt:qs,T:Gs,TT:Ys,TTT:Bs,TTTT:js,f:Js,ff:Qs,fff:ea,ffff:sa,F:Xs,FF:Ks,FFF:ta,FFFF:aa};class ee{static create(e,t={}){return new ee(e,t)}static parseFormat(e){let t=null,a="",n=!1;const r=[];for(let l=0;l<e.length;l++){const i=e.charAt(l);i==="'"?(a.length>0&&r.push({literal:n||/^\s+$/.test(a),val:a}),t=null,a="",n=!n):n||i===t?a+=i:(a.length>0&&r.push({literal:/^\s+$/.test(a),val:a}),a=i,t=i)}return a.length>0&&r.push({literal:n||/^\s+$/.test(a),val:a}),r}static macroTokenToFormatOpts(e){return Un[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return J(e,t);const a={...this.opts};return t>0&&(a.padTo=t),this.loc.numberFormatter(a).format(e)}formatDateTimeFromString(e,t){const a=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",r=(o,f)=>this.loc.extract(e,o,f),l=o=>e.isOffsetFixed&&e.offset===0&&o.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,o.format):"",i=()=>a?Cn(e):r({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(o,f)=>a?$n(e,o):r(f?{month:o}:{month:o,day:"numeric"},"month"),h=(o,f)=>a?An(e,o):r(f?{weekday:o}:{weekday:o,month:"long",day:"numeric"},"weekday"),p=o=>{const f=ee.macroTokenToFormatOpts(o);return f?this.formatWithSystemDefault(e,f):o},m=o=>a?Fn(e,o):r({era:o},"era"),v=o=>{switch(o){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return i();case"d":return n?r({day:"numeric"},"day"):this.num(e.day);case"dd":return n?r({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return h("short",!0);case"cccc":return h("long",!0);case"ccccc":return h("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return h("short",!1);case"EEEE":return h("long",!1);case"EEEEE":return h("narrow",!1);case"L":return n?r({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?r({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return n?r({month:"numeric"},"month"):this.num(e.month);case"MM":return n?r({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return n?r({year:"numeric"},"year"):this.num(e.year);case"yy":return n?r({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?r({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?r({year:"numeric"},"year"):this.num(e.year,6);case"G":return m("short");case"GG":return m("long");case"GGGGG":return m("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return p(o)}};return Vs(ee.parseFormat(t),v)}formatDurationFromString(e,t){const a=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=d=>h=>{const p=a(h);return p?this.num(d.get(p),h.length):h},r=ee.parseFormat(t),l=r.reduce((d,{literal:h,val:p})=>h?d:d.concat(p),[]),i=e.shiftTo(...l.map(a).filter(d=>d));return Vs(r,n(i))}}const Ta=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ye(...s){const e=s.reduce((t,a)=>t+a.source,"");return RegExp(`^${e}$`)}function Be(...s){return e=>s.reduce(([t,a,n],r)=>{const[l,i,d]=r(e,n);return[{...t,...l},i||a,d]},[{},null,1]).slice(0,2)}function je(s,...e){if(s==null)return[null,null];for(const[t,a]of e){const n=t.exec(s);if(n)return a(n)}return[null,null]}function Sa(...s){return(e,t)=>{const a={};let n;for(n=0;n<s.length;n++)a[s[n]]=De(e[t+n]);return[a,null,t+n]}}const Ia=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ln=`(?:${Ia.source}?(?:\\[(${Ta.source})\\])?)?`,Qt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,xa=RegExp(`${Qt.source}${Ln}`),Kt=RegExp(`(?:T${xa.source})?`),_n=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Wn=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Hn=/(\d{4})-?(\d{3})/,Rn=Sa("weekYear","weekNumber","weekDay"),zn=Sa("year","ordinal"),Zn=/(\d{4})-(\d\d)-(\d\d)/,ka=RegExp(`${Qt.source} ?(?:${Ia.source}|(${Ta.source}))?`),qn=RegExp(`(?: ${ka.source})?`);function ze(s,e,t){const a=s[e];return F(a)?t:De(a)}function Gn(s,e){return[{year:ze(s,e),month:ze(s,e+1,1),day:ze(s,e+2,1)},null,e+3]}function Je(s,e){return[{hours:ze(s,e,0),minutes:ze(s,e+1,0),seconds:ze(s,e+2,0),milliseconds:Jt(s[e+3])},null,e+4]}function lt(s,e){const t=!s[e]&&!s[e+1],a=Mt(s[e+1],s[e+2]),n=t?null:re.instance(a);return[{},n,e+3]}function ot(s,e){const t=s[e]?Ie.create(s[e]):null;return[{},t,e+1]}const Yn=RegExp(`^T?${Qt.source}$`),Bn=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function jn(s){const[e,t,a,n,r,l,i,d,h]=s,p=e[0]==="-",m=d&&d[0]==="-",v=(o,f=!1)=>o!==void 0&&(f||o&&p)?-o:o;return[{years:v(Me(t)),months:v(Me(a)),weeks:v(Me(n)),days:v(Me(r)),hours:v(Me(l)),minutes:v(Me(i)),seconds:v(Me(d),d==="-0"),milliseconds:v(Jt(h),m)}]}const Jn={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function es(s,e,t,a,n,r,l){const i={year:e.length===2?Gt(De(e)):De(e),month:ha.indexOf(t)+1,day:De(a),hour:De(n),minute:De(r)};return l&&(i.second=De(l)),s&&(i.weekday=s.length>3?ya.indexOf(s)+1:ga.indexOf(s)+1),i}const Xn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Qn(s){const[,e,t,a,n,r,l,i,d,h,p,m]=s,v=es(e,n,a,t,r,l,i);let o;return d?o=Jn[d]:h?o=0:o=Mt(p,m),[v,new re(o)]}function Kn(s){return s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const er=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,tr=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,sr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Ts(s){const[,e,t,a,n,r,l,i]=s;return[es(e,n,a,t,r,l,i),re.utcInstance]}function ar(s){const[,e,t,a,n,r,l,i]=s;return[es(e,i,t,a,n,r,l),re.utcInstance]}const nr=Ye(_n,Kt),rr=Ye(Wn,Kt),lr=Ye(Hn,Kt),or=Ye(xa),ba=Be(Gn,Je,lt,ot),ir=Be(Rn,Je,lt,ot),ur=Be(zn,Je,lt,ot),dr=Be(Je,lt,ot);function cr(s){return je(s,[nr,ba],[rr,ir],[lr,ur],[or,dr])}function mr(s){return je(Kn(s),[Xn,Qn])}function fr(s){return je(s,[er,Ts],[tr,Ts],[sr,ar])}function hr(s){return je(s,[Bn,jn])}const pr=Be(Je);function yr(s){return je(s,[Yn,pr])}const gr=Ye(Zn,qn),vr=Ye(ka),wr=Be(Je,lt,ot);function Vr(s){return je(s,[gr,ba],[vr,wr])}const Ss="Invalid Duration",Oa={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Tr={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Oa},ie=146097/400,Pe=146097/4800,Sr={years:{quarters:4,months:12,weeks:ie/7,days:ie,hours:ie*24,minutes:ie*24*60,seconds:ie*24*60*60,milliseconds:ie*24*60*60*1e3},quarters:{months:3,weeks:ie/28,days:ie/4,hours:ie*24/4,minutes:ie*24*60/4,seconds:ie*24*60*60/4,milliseconds:ie*24*60*60*1e3/4},months:{weeks:Pe/7,days:Pe,hours:Pe*24,minutes:Pe*24*60,seconds:Pe*24*60*60,milliseconds:Pe*24*60*60*1e3},...Oa},Ae=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ir=Ae.slice(0).reverse();function Oe(s,e,t=!1){const a={values:t?e.values:{...s.values,...e.values||{}},loc:s.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||s.conversionAccuracy,matrix:e.matrix||s.matrix};return new H(a)}function Da(s,e){let t=e.milliseconds??0;for(const a of Ir.slice(1))e[a]&&(t+=e[a]*s[a].milliseconds);return t}function Is(s,e){const t=Da(s,e)<0?-1:1;Ae.reduceRight((a,n)=>{if(F(e[n]))return a;if(a){const r=e[a]*t,l=s[n][a],i=Math.floor(r/l);e[n]+=i*t,e[a]-=i*l*t}return n},null),Ae.reduce((a,n)=>{if(F(e[n]))return a;if(a){const r=e[a]%1;e[a]-=r,e[n]+=r*s[a][n]}return n},null)}function xr(s){const e={};for(const[t,a]of Object.entries(s))a!==0&&(e[t]=a);return e}class H{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let a=t?Sr:Tr;e.matrix&&(a=e.matrix),this.values=e.values,this.loc=e.loc||z.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=a,this.isLuxonDuration=!0}static fromMillis(e,t){return H.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new K(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new H({values:xt(e,H.normalizeUnit),loc:z.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Ee(e))return H.fromMillis(e);if(H.isDuration(e))return e;if(typeof e=="object")return H.fromObject(e);throw new K(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[a]=hr(e);return a?H.fromObject(a,t):H.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[a]=yr(e);return a?H.fromObject(a,t):H.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new K("need to specify a reason the Duration is invalid");const a=e instanceof he?e:new he(e,t);if(j.throwOnInvalid)throw new Ya(a);return new H({invalid:a})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new Ls(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const a={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?ee.create(this.loc,a).formatDurationFromString(this,e):Ss}toHuman(e={}){if(!this.isValid)return Ss;const t=Ae.map(a=>{const n=this.values[a];return F(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:a.slice(0,-1)}).format(n)}).filter(a=>a);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Xt(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},D.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Da(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=H.fromDurationLike(e),a={};for(const n of Ae)(qe(t.values,n)||qe(this.values,n))&&(a[n]=t.get(n)+this.get(n));return Oe(this,{values:a},!0)}minus(e){if(!this.isValid)return this;const t=H.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const a of Object.keys(this.values))t[a]=fa(e(this.values[a],a));return Oe(this,{values:t},!0)}get(e){return this[H.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...xt(e,H.normalizeUnit)};return Oe(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:a,matrix:n}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:n,conversionAccuracy:a};return Oe(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Is(this.matrix,e),Oe(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=xr(this.normalize().shiftToAll().toObject());return Oe(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>H.normalizeUnit(l));const t={},a={},n=this.toObject();let r;for(const l of Ae)if(e.indexOf(l)>=0){r=l;let i=0;for(const h in a)i+=this.matrix[h][l]*a[h],a[h]=0;Ee(n[l])&&(i+=n[l]);const d=Math.trunc(i);t[l]=d,a[l]=(i*1e3-d*1e3)/1e3}else Ee(n[l])&&(a[l]=n[l]);for(const l in a)a[l]!==0&&(t[r]+=l===r?a[l]:a[l]/this.matrix[r][l]);return Is(this.matrix,t),Oe(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return Oe(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(a,n){return a===void 0||a===0?n===void 0||n===0:a===n}for(const a of Ae)if(!t(this.values[a],e.values[a]))return!1;return!0}}const Ue="Invalid Interval";function kr(s,e){return!s||!s.isValid?B.invalid("missing or invalid start"):!e||!e.isValid?B.invalid("missing or invalid end"):e<s?B.invalid("end before start",`The end of an interval must be after its start, but you had start=${s.toISO()} and end=${e.toISO()}`):null}class B{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new K("need to specify a reason the Interval is invalid");const a=e instanceof he?e:new he(e,t);if(j.throwOnInvalid)throw new Ga(a);return new B({invalid:a})}static fromDateTimes(e,t){const a=Xe(e),n=Xe(t),r=kr(a,n);return r??new B({start:a,end:n})}static after(e,t){const a=H.fromDurationLike(t),n=Xe(e);return B.fromDateTimes(n,n.plus(a))}static before(e,t){const a=H.fromDurationLike(t),n=Xe(e);return B.fromDateTimes(n.minus(a),n)}static fromISO(e,t){const[a,n]=(e||"").split("/",2);if(a&&n){let r,l;try{r=D.fromISO(a,t),l=r.isValid}catch{l=!1}let i,d;try{i=D.fromISO(n,t),d=i.isValid}catch{d=!1}if(l&&d)return B.fromDateTimes(r,i);if(l){const h=H.fromISO(n,t);if(h.isValid)return B.after(r,h)}else if(d){const h=H.fromISO(a,t);if(h.isValid)return B.before(i,h)}}return B.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const a=this.start.startOf(e,t);let n;return t!=null&&t.useLocaleWeeks?n=this.end.reconfigure({locale:a.locale}):n=this.end,n=n.startOf(e,t),Math.floor(n.diff(a,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?B.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Xe).filter(l=>this.contains(l)).sort((l,i)=>l.toMillis()-i.toMillis()),a=[];let{s:n}=this,r=0;for(;n<this.e;){const l=t[r]||this.e,i=+l>+this.e?this.e:l;a.push(B.fromDateTimes(n,i)),n=i,r+=1}return a}splitBy(e){const t=H.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:a}=this,n=1,r;const l=[];for(;a<this.e;){const i=this.start.plus(t.mapUnits(d=>d*n));r=+i>+this.e?this.e:i,l.push(B.fromDateTimes(a,r)),a=r,n+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,a=this.e<e.e?this.e:e.e;return t>=a?null:B.fromDateTimes(t,a)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,a=this.e>e.e?this.e:e.e;return B.fromDateTimes(t,a)}static merge(e){const[t,a]=e.sort((n,r)=>n.s-r.s).reduce(([n,r],l)=>r?r.overlaps(l)||r.abutsStart(l)?[n,r.union(l)]:[n.concat([r]),l]:[n,l],[[],null]);return a&&t.push(a),t}static xor(e){let t=null,a=0;const n=[],r=e.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),l=Array.prototype.concat(...r),i=l.sort((d,h)=>d.time-h.time);for(const d of i)a+=d.type==="s"?1:-1,a===1?t=d.time:(t&&+t!=+d.time&&n.push(B.fromDateTimes(t,d.time)),t=null);return B.merge(n)}difference(...e){return B.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Ue}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Tt,t={}){return this.isValid?ee.create(this.s.loc.clone(t),e).formatInterval(this):Ue}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Ue}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ue}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Ue}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Ue}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):H.invalid(this.invalidReason)}mapEndpoints(e){return B.fromDateTimes(e(this.s),e(this.e))}}class dt{static hasDST(e=j.defaultZone){const t=D.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Ie.isValidZone(e)}static normalizeZone(e){return Ne(e,j.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||z.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||z.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||z.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:a=null,locObj:n=null,outputCalendar:r="gregory"}={}){return(n||z.create(t,a,r)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:a=null,locObj:n=null,outputCalendar:r="gregory"}={}){return(n||z.create(t,a,r)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:a=null,locObj:n=null}={}){return(n||z.create(t,a,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:a=null,locObj:n=null}={}){return(n||z.create(t,a,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return z.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return z.create(t,null,"gregory").eras(e)}static features(){return{relative:da(),localeWeek:ca()}}}function xs(s,e){const t=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),a=t(e)-t(s);return Math.floor(H.fromMillis(a).as("days"))}function br(s,e,t){const a=[["years",(d,h)=>h.year-d.year],["quarters",(d,h)=>h.quarter-d.quarter+(h.year-d.year)*4],["months",(d,h)=>h.month-d.month+(h.year-d.year)*12],["weeks",(d,h)=>{const p=xs(d,h);return(p-p%7)/7}],["days",xs]],n={},r=s;let l,i;for(const[d,h]of a)t.indexOf(d)>=0&&(l=d,n[d]=h(s,e),i=r.plus(n),i>e?(n[d]--,s=r.plus(n),s>e&&(i=s,n[d]--,s=r.plus(n))):s=i);return[s,n,i,l]}function Or(s,e,t,a){let[n,r,l,i]=br(s,e,t);const d=e-n,h=t.filter(m=>["hours","minutes","seconds","milliseconds"].indexOf(m)>=0);h.length===0&&(l<e&&(l=n.plus({[i]:1})),l!==n&&(r[i]=(r[i]||0)+d/(l-n)));const p=H.fromObject(r,a);return h.length>0?H.fromMillis(d,a).shiftTo(...h).plus(p):p}const Dr="missing Intl.DateTimeFormat.formatToParts support";function R(s,e=t=>t){return{regex:s,deser:([t])=>e(gn(t))}}const Nr=String.fromCharCode(160),Na=`[ ${Nr}]`,Ea=new RegExp(Na,"g");function Er(s){return s.replace(/\./g,"\\.?").replace(Ea,Na)}function ks(s){return s.replace(/\./g,"").replace(Ea," ").toLowerCase()}function me(s,e){return s===null?null:{regex:RegExp(s.map(Er).join("|")),deser:([t])=>s.findIndex(a=>ks(t)===ks(a))+e}}function bs(s,e){return{regex:s,deser:([,t,a])=>Mt(t,a),groups:e}}function ct(s){return{regex:s,deser:([e])=>e}}function Mr(s){return s.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Cr(s,e){const t=ce(e),a=ce(e,"{2}"),n=ce(e,"{3}"),r=ce(e,"{4}"),l=ce(e,"{6}"),i=ce(e,"{1,2}"),d=ce(e,"{1,3}"),h=ce(e,"{1,6}"),p=ce(e,"{1,9}"),m=ce(e,"{2,4}"),v=ce(e,"{4,6}"),o=S=>({regex:RegExp(Mr(S.val)),deser:([E])=>E,literal:!0}),b=(S=>{if(s.literal)return o(S);switch(S.val){case"G":return me(e.eras("short"),0);case"GG":return me(e.eras("long"),0);case"y":return R(h);case"yy":return R(m,Gt);case"yyyy":return R(r);case"yyyyy":return R(v);case"yyyyyy":return R(l);case"M":return R(i);case"MM":return R(a);case"MMM":return me(e.months("short",!0),1);case"MMMM":return me(e.months("long",!0),1);case"L":return R(i);case"LL":return R(a);case"LLL":return me(e.months("short",!1),1);case"LLLL":return me(e.months("long",!1),1);case"d":return R(i);case"dd":return R(a);case"o":return R(d);case"ooo":return R(n);case"HH":return R(a);case"H":return R(i);case"hh":return R(a);case"h":return R(i);case"mm":return R(a);case"m":return R(i);case"q":return R(i);case"qq":return R(a);case"s":return R(i);case"ss":return R(a);case"S":return R(d);case"SSS":return R(n);case"u":return ct(p);case"uu":return ct(i);case"uuu":return R(t);case"a":return me(e.meridiems(),0);case"kkkk":return R(r);case"kk":return R(m,Gt);case"W":return R(i);case"WW":return R(a);case"E":case"c":return R(t);case"EEE":return me(e.weekdays("short",!1),1);case"EEEE":return me(e.weekdays("long",!1),1);case"ccc":return me(e.weekdays("short",!0),1);case"cccc":return me(e.weekdays("long",!0),1);case"Z":case"ZZ":return bs(new RegExp(`([+-]${i.source})(?::(${a.source}))?`),2);case"ZZZ":return bs(new RegExp(`([+-]${i.source})(${a.source})?`),2);case"z":return ct(/[a-z_+-/]{1,256}?/i);case" ":return ct(/[^\S\n\r]/);default:return o(S)}})(s)||{invalidReason:Dr};return b.token=s,b}const Ar={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function $r(s,e,t){const{type:a,value:n}=s;if(a==="literal"){const d=/^\s+$/.test(n);return{literal:!d,val:d?" ":n}}const r=e[a];let l=a;a==="hour"&&(e.hour12!=null?l=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?l="hour12":l="hour24":l=t.hour12?"hour12":"hour24");let i=Ar[l];if(typeof i=="object"&&(i=i[r]),i)return{literal:!1,val:i}}function Fr(s){return[`^${s.map(t=>t.regex).reduce((t,a)=>`${t}(${a.source})`,"")}$`,s]}function Pr(s,e,t){const a=s.match(e);if(a){const n={};let r=1;for(const l in t)if(qe(t,l)){const i=t[l],d=i.groups?i.groups+1:1;!i.literal&&i.token&&(n[i.token.val[0]]=i.deser(a.slice(r,r+d))),r+=d}return[a,n]}else return[a,{}]}function Ur(s){const e=r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,a;return F(s.z)||(t=Ie.create(s.z)),F(s.Z)||(t||(t=new re(s.Z)),a=s.Z),F(s.q)||(s.M=(s.q-1)*3+1),F(s.h)||(s.h<12&&s.a===1?s.h+=12:s.h===12&&s.a===0&&(s.h=0)),s.G===0&&s.y&&(s.y=-s.y),F(s.u)||(s.S=Jt(s.u)),[Object.keys(s).reduce((r,l)=>{const i=e(l);return i&&(r[i]=s[l]),r},{}),t,a]}let Pt=null;function Lr(){return Pt||(Pt=D.fromMillis(1555555555555)),Pt}function _r(s,e){if(s.literal)return s;const t=ee.macroTokenToFormatOpts(s.val),a=$a(t,e);return a==null||a.includes(void 0)?s:a}function Ma(s,e){return Array.prototype.concat(...s.map(t=>_r(t,e)))}class Ca{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=Ma(ee.parseFormat(t),e),this.units=this.tokens.map(a=>Cr(a,e)),this.disqualifyingUnit=this.units.find(a=>a.invalidReason),!this.disqualifyingUnit){const[a,n]=Fr(this.units);this.regex=RegExp(a,"i"),this.handlers=n}}explainFromTokens(e){if(this.isValid){const[t,a]=Pr(e,this.regex,this.handlers),[n,r,l]=a?Ur(a):[null,null,void 0];if(qe(a,"a")&&qe(a,"H"))throw new We("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:a,result:n,zone:r,specificOffset:l}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Aa(s,e,t){return new Ca(s,t).explainFromTokens(e)}function Wr(s,e,t){const{result:a,zone:n,specificOffset:r,invalidReason:l}=Aa(s,e,t);return[a,n,r,l]}function $a(s,e){if(!s)return null;const a=ee.create(e,s).dtFormatter(Lr()),n=a.formatToParts(),r=a.resolvedOptions();return n.map(l=>$r(l,s,r))}const Ut="Invalid DateTime",Os=864e13;function Ke(s){return new he("unsupported zone",`the zone "${s.name}" is not supported`)}function Lt(s){return s.weekData===null&&(s.weekData=St(s.c)),s.weekData}function _t(s){return s.localWeekData===null&&(s.localWeekData=St(s.c,s.loc.getMinDaysInFirstWeek(),s.loc.getStartOfWeek())),s.localWeekData}function Ce(s,e){const t={ts:s.ts,zone:s.zone,c:s.c,o:s.o,loc:s.loc,invalid:s.invalid};return new D({...t,...e,old:t})}function Fa(s,e,t){let a=s-e*60*1e3;const n=t.offset(a);if(e===n)return[a,e];a-=(n-e)*60*1e3;const r=t.offset(a);return n===r?[a,n]:[s-Math.min(n,r)*60*1e3,Math.max(n,r)]}function mt(s,e){s+=e*60*1e3;const t=new Date(s);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function gt(s,e,t){return Fa(Et(s),e,t)}function Ds(s,e){const t=s.o,a=s.c.year+Math.trunc(e.years),n=s.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,r={...s.c,year:a,month:n,day:Math.min(s.c.day,It(a,n))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=H.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),i=Et(r);let[d,h]=Fa(i,t,s.zone);return l!==0&&(d+=l,h=s.zone.offset(d)),{ts:d,o:h}}function Le(s,e,t,a,n,r){const{setZone:l,zone:i}=t;if(s&&Object.keys(s).length!==0||e){const d=e||i,h=D.fromObject(s,{...t,zone:d,specificOffset:r});return l?h:h.setZone(i)}else return D.invalid(new he("unparsable",`the input "${n}" can't be parsed as ${a}`))}function ft(s,e,t=!0){return s.isValid?ee.create(z.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(s,e):null}function Wt(s,e){const t=s.c.year>9999||s.c.year<0;let a="";return t&&s.c.year>=0&&(a+="+"),a+=J(s.c.year,t?6:4),e?(a+="-",a+=J(s.c.month),a+="-",a+=J(s.c.day)):(a+=J(s.c.month),a+=J(s.c.day)),a}function Ns(s,e,t,a,n,r){let l=J(s.c.hour);return e?(l+=":",l+=J(s.c.minute),(s.c.millisecond!==0||s.c.second!==0||!t)&&(l+=":")):l+=J(s.c.minute),(s.c.millisecond!==0||s.c.second!==0||!t)&&(l+=J(s.c.second),(s.c.millisecond!==0||!a)&&(l+=".",l+=J(s.c.millisecond,3))),n&&(s.isOffsetFixed&&s.offset===0&&!r?l+="Z":s.o<0?(l+="-",l+=J(Math.trunc(-s.o/60)),l+=":",l+=J(Math.trunc(-s.o%60))):(l+="+",l+=J(Math.trunc(s.o/60)),l+=":",l+=J(Math.trunc(s.o%60)))),r&&(l+="["+s.zone.ianaName+"]"),l}const Pa={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Hr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Rr={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Ua=["year","month","day","hour","minute","second","millisecond"],zr=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Zr=["year","ordinal","hour","minute","second","millisecond"];function qr(s){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[s.toLowerCase()];if(!e)throw new Ls(s);return e}function Es(s){switch(s.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return qr(s)}}function Gr(s){return wt[s]||(vt===void 0&&(vt=j.now()),wt[s]=s.offset(vt)),wt[s]}function Ms(s,e){const t=Ne(e.zone,j.defaultZone);if(!t.isValid)return D.invalid(Ke(t));const a=z.fromObject(e);let n,r;if(F(s.year))n=j.now();else{for(const d of Ua)F(s[d])&&(s[d]=Pa[d]);const l=ia(s)||ua(s);if(l)return D.invalid(l);const i=Gr(t);[n,r]=gt(s,i,t)}return new D({ts:n,zone:t,loc:a,o:r})}function Cs(s,e,t){const a=F(t.round)?!0:t.round,n=(l,i)=>(l=Xt(l,a||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(l,i)),r=l=>t.calendary?e.hasSame(s,l)?0:e.startOf(l).diff(s.startOf(l),l).get(l):e.diff(s,l).get(l);if(t.unit)return n(r(t.unit),t.unit);for(const l of t.units){const i=r(l);if(Math.abs(i)>=1)return n(i,l)}return n(s>e?-0:0,t.units[t.units.length-1])}function As(s){let e={},t;return s.length>0&&typeof s[s.length-1]=="object"?(e=s[s.length-1],t=Array.from(s).slice(0,s.length-1)):t=Array.from(s),[e,t]}let vt,wt={};class D{constructor(e){const t=e.zone||j.defaultZone;let a=e.invalid||(Number.isNaN(e.ts)?new he("invalid input"):null)||(t.isValid?null:Ke(t));this.ts=F(e.ts)?j.now():e.ts;let n=null,r=null;if(!a)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[n,r]=[e.old.c,e.old.o];else{const i=Ee(e.o)&&!e.old?e.o:t.offset(this.ts);n=mt(this.ts,i),a=Number.isNaN(n.year)?new he("invalid input"):null,n=a?null:n,r=a?null:i}this._zone=t,this.loc=e.loc||z.create(),this.invalid=a,this.weekData=null,this.localWeekData=null,this.c=n,this.o=r,this.isLuxonDateTime=!0}static now(){return new D({})}static local(){const[e,t]=As(arguments),[a,n,r,l,i,d,h]=t;return Ms({year:a,month:n,day:r,hour:l,minute:i,second:d,millisecond:h},e)}static utc(){const[e,t]=As(arguments),[a,n,r,l,i,d,h]=t;return e.zone=re.utcInstance,Ms({year:a,month:n,day:r,hour:l,minute:i,second:d,millisecond:h},e)}static fromJSDate(e,t={}){const a=Sn(e)?e.valueOf():NaN;if(Number.isNaN(a))return D.invalid("invalid input");const n=Ne(t.zone,j.defaultZone);return n.isValid?new D({ts:a,zone:n,loc:z.fromObject(t)}):D.invalid(Ke(n))}static fromMillis(e,t={}){if(Ee(e))return e<-Os||e>Os?D.invalid("Timestamp out of range"):new D({ts:e,zone:Ne(t.zone,j.defaultZone),loc:z.fromObject(t)});throw new K(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Ee(e))return new D({ts:e*1e3,zone:Ne(t.zone,j.defaultZone),loc:z.fromObject(t)});throw new K("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const a=Ne(t.zone,j.defaultZone);if(!a.isValid)return D.invalid(Ke(a));const n=z.fromObject(t),r=xt(e,Es),{minDaysInFirstWeek:l,startOfWeek:i}=gs(r,n),d=j.now(),h=F(t.specificOffset)?a.offset(d):t.specificOffset,p=!F(r.ordinal),m=!F(r.year),v=!F(r.month)||!F(r.day),o=m||v,f=r.weekYear||r.weekNumber;if((o||p)&&f)throw new We("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(v&&p)throw new We("Can't mix ordinal dates with month/day");const b=f||r.weekday&&!o;let S,E,W=mt(d,h);b?(S=zr,E=Hr,W=St(W,l,i)):p?(S=Zr,E=Rr,W=Ft(W)):(S=Ua,E=Pa);let w=!1;for(const P of S){const G=r[P];F(G)?w?r[P]=E[P]:r[P]=W[P]:w=!0}const I=b?wn(r,l,i):p?Vn(r):ia(r),U=I||ua(r);if(U)return D.invalid(U);const A=b?ps(r,l,i):p?ys(r):r,[N,y]=gt(A,h,a),q=new D({ts:N,zone:a,o:y,loc:n});return r.weekday&&o&&e.weekday!==q.weekday?D.invalid("mismatched weekday",`you can't specify both a weekday of ${r.weekday} and a date of ${q.toISO()}`):q.isValid?q:D.invalid(q.invalid)}static fromISO(e,t={}){const[a,n]=cr(e);return Le(a,n,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[a,n]=mr(e);return Le(a,n,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[a,n]=fr(e);return Le(a,n,t,"HTTP",t)}static fromFormat(e,t,a={}){if(F(e)||F(t))throw new K("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:r=null}=a,l=z.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0}),[i,d,h,p]=Wr(l,e,t);return p?D.invalid(p):Le(i,d,a,`format ${t}`,e,h)}static fromString(e,t,a={}){return D.fromFormat(e,t,a)}static fromSQL(e,t={}){const[a,n]=Vr(e);return Le(a,n,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new K("need to specify a reason the DateTime is invalid");const a=e instanceof he?e:new he(e,t);if(j.throwOnInvalid)throw new qa(a);return new D({invalid:a})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const a=$a(e,z.fromObject(t));return a?a.map(n=>n?n.val:null).join(""):null}static expandFormat(e,t={}){return Ma(ee.parseFormat(e),z.fromObject(t)).map(n=>n.val).join("")}static resetCache(){vt=void 0,wt={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Lt(this).weekYear:NaN}get weekNumber(){return this.isValid?Lt(this).weekNumber:NaN}get weekday(){return this.isValid?Lt(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?_t(this).weekday:NaN}get localWeekNumber(){return this.isValid?_t(this).weekNumber:NaN}get localWeekYear(){return this.isValid?_t(this).weekYear:NaN}get ordinal(){return this.isValid?Ft(this.c).ordinal:NaN}get monthShort(){return this.isValid?dt.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?dt.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?dt.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?dt.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,a=Et(this.c),n=this.zone.offset(a-e),r=this.zone.offset(a+e),l=this.zone.offset(a-n*t),i=this.zone.offset(a-r*t);if(l===i)return[this];const d=a-l*t,h=a-i*t,p=mt(d,l),m=mt(h,i);return p.hour===m.hour&&p.minute===m.minute&&p.second===m.second&&p.millisecond===m.millisecond?[Ce(this,{ts:d}),Ce(this,{ts:h})]:[this]}get isInLeapYear(){return rt(this.year)}get daysInMonth(){return It(this.year,this.month)}get daysInYear(){return this.isValid?Re(this.year):NaN}get weeksInWeekYear(){return this.isValid?tt(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?tt(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:a,calendar:n}=ee.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:a,outputCalendar:n}}toUTC(e=0,t={}){return this.setZone(re.instance(e),t)}toLocal(){return this.setZone(j.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:a=!1}={}){if(e=Ne(e,j.defaultZone),e.equals(this.zone))return this;if(e.isValid){let n=this.ts;if(t||a){const r=e.offset(this.ts),l=this.toObject();[n]=gt(l,r,e)}return Ce(this,{ts:n,zone:e})}else return D.invalid(Ke(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:a}={}){const n=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:a});return Ce(this,{loc:n})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=xt(e,Es),{minDaysInFirstWeek:a,startOfWeek:n}=gs(t,this.loc),r=!F(t.weekYear)||!F(t.weekNumber)||!F(t.weekday),l=!F(t.ordinal),i=!F(t.year),d=!F(t.month)||!F(t.day),h=i||d,p=t.weekYear||t.weekNumber;if((h||l)&&p)throw new We("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new We("Can't mix ordinal dates with month/day");let m;r?m=ps({...St(this.c,a,n),...t},a,n):F(t.ordinal)?(m={...this.toObject(),...t},F(t.day)&&(m.day=Math.min(It(m.year,m.month),m.day))):m=ys({...Ft(this.c),...t});const[v,o]=gt(m,this.o,this.zone);return Ce(this,{ts:v,o})}plus(e){if(!this.isValid)return this;const t=H.fromDurationLike(e);return Ce(this,Ds(this,t))}minus(e){if(!this.isValid)return this;const t=H.fromDurationLike(e).negate();return Ce(this,Ds(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const a={},n=H.normalizeUnit(e);switch(n){case"years":a.month=1;case"quarters":case"months":a.day=1;case"weeks":case"days":a.hour=0;case"hours":a.minute=0;case"minutes":a.second=0;case"seconds":a.millisecond=0;break}if(n==="weeks")if(t){const r=this.loc.getStartOfWeek(),{weekday:l}=this;l<r&&(a.weekNumber=this.weekNumber-1),a.weekday=r}else a.weekday=1;if(n==="quarters"){const r=Math.ceil(this.month/3);a.month=(r-1)*3+1}return this.set(a)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?ee.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Ut}toLocaleString(e=Tt,t={}){return this.isValid?ee.create(this.loc.clone(t),e).formatDateTime(this):Ut}toLocaleParts(e={}){return this.isValid?ee.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:a=!1,includeOffset:n=!0,extendedZone:r=!1}={}){if(!this.isValid)return null;const l=e==="extended";let i=Wt(this,l);return i+="T",i+=Ns(this,l,t,a,n,r),i}toISODate({format:e="extended"}={}){return this.isValid?Wt(this,e==="extended"):null}toISOWeekDate(){return ft(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:a=!0,includePrefix:n=!1,extendedZone:r=!1,format:l="extended"}={}){return this.isValid?(n?"T":"")+Ns(this,l==="extended",t,e,a,r):null}toRFC2822(){return ft(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return ft(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Wt(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:a=!0}={}){let n="HH:mm:ss.SSS";return(t||e)&&(a&&(n+=" "),t?n+="z":e&&(n+="ZZ")),ft(this,n,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Ut}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",a={}){if(!this.isValid||!e.isValid)return H.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...a},r=In(t).map(H.normalizeUnit),l=e.valueOf()>this.valueOf(),i=l?this:e,d=l?e:this,h=Or(i,d,r,n);return l?h.negate():h}diffNow(e="milliseconds",t={}){return this.diff(D.now(),e,t)}until(e){return this.isValid?B.fromDateTimes(this,e):this}hasSame(e,t,a){if(!this.isValid)return!1;const n=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t,a)<=n&&n<=r.endOf(t,a)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||D.fromObject({},{zone:this.zone}),a=e.padding?this<t?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],r=e.unit;return Array.isArray(e.unit)&&(n=e.unit,r=void 0),Cs(t,this.plus(a),{...e,numeric:"always",units:n,unit:r})}toRelativeCalendar(e={}){return this.isValid?Cs(e.base||D.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(D.isDateTime))throw new K("min requires all arguments be DateTimes");return vs(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(D.isDateTime))throw new K("max requires all arguments be DateTimes");return vs(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,a={}){const{locale:n=null,numberingSystem:r=null}=a,l=z.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0});return Aa(l,e,t)}static fromStringExplain(e,t,a={}){return D.fromFormatExplain(e,t,a)}static buildFormatParser(e,t={}){const{locale:a=null,numberingSystem:n=null}=t,r=z.fromOpts({locale:a,numberingSystem:n,defaultToEN:!0});return new Ca(r,e)}static fromFormatParser(e,t,a={}){if(F(e)||F(t))throw new K("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:r=null}=a,l=z.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0});if(!l.equals(t.locale))throw new K(`fromFormatParser called with a locale of ${l}, but the format parser was created for ${t.locale}`);const{result:i,zone:d,specificOffset:h,invalidReason:p}=t.explainFromTokens(e);return p?D.invalid(p):Le(i,d,a,`format ${t.format}`,e,h)}static get DATE_SHORT(){return Tt}static get DATE_MED(){return _s}static get DATE_MED_WITH_WEEKDAY(){return Ba}static get DATE_FULL(){return Ws}static get DATE_HUGE(){return Hs}static get TIME_SIMPLE(){return Rs}static get TIME_WITH_SECONDS(){return zs}static get TIME_WITH_SHORT_OFFSET(){return Zs}static get TIME_WITH_LONG_OFFSET(){return qs}static get TIME_24_SIMPLE(){return Gs}static get TIME_24_WITH_SECONDS(){return Ys}static get TIME_24_WITH_SHORT_OFFSET(){return Bs}static get TIME_24_WITH_LONG_OFFSET(){return js}static get DATETIME_SHORT(){return Js}static get DATETIME_SHORT_WITH_SECONDS(){return Xs}static get DATETIME_MED(){return Qs}static get DATETIME_MED_WITH_SECONDS(){return Ks}static get DATETIME_MED_WITH_WEEKDAY(){return ja}static get DATETIME_FULL(){return ea}static get DATETIME_FULL_WITH_SECONDS(){return ta}static get DATETIME_HUGE(){return sa}static get DATETIME_HUGE_WITH_SECONDS(){return aa}}function Xe(s){if(D.isDateTime(s))return s;if(s&&s.valueOf&&Ee(s.valueOf()))return D.fromJSDate(s);if(s&&typeof s=="object")return D.fromObject(s);throw new K(`Unknown datetime argument: ${s}, of type ${typeof s}`)}const ve=()=>{const s=(l,i=void 0)=>i===void 0?D.fromMillis(l).toFormat("yyyy-MM-dd HH:mm"):D.fromMillis(l,{zone:i}).toFormat("yyyy-MM-dd HH:mm"),e=l=>s(l,"Asia/Ho_Chi_Minh"),t=(l,i=void 0)=>i===void 0?D.fromMillis(l).toFormat("yyyy-MM-dd"):D.fromMillis(l,{zone:i}).toFormat("yyyy-MM-dd"),a=l=>t(l,"Asia/Ho_Chi_Minh"),n=(l,i=void 0)=>i===void 0?D.fromMillis(l).toFormat("HH:mm:ss"):D.fromMillis(l,{zone:i}).toFormat("HH:mm:ss");return{formatDateTime:s,formatDateTimeV:e,formatDate:t,formatDateV:a,formatTime:n,formatTimeV:l=>n(l,"Asia/Ho_Chi_Minh")}},$s=st(),{formatDate:Yr}=ve(),Br=()=>Z({page:1,perPage:10,total:0}),jr=()=>Z({sortBy:"createdAt",sortingOrder:null}),Jr=()=>Z({isActive:!0,search:""}),Xr={[X.ESCORT]:"奧黛導遊",[X.SHUTTLE]:"機場接送",[X.CHARTER]:"包車旅遊",[X.MASSAGE]:"龍筋按摩"},$e=s=>{const e=Z(!1),t=Z([]),{filters:a=Jr(),sorting:n=jr(),pagination:r=Br()}=s||{},l=async()=>{e.value=!0;const v={...Y(a),sortBy:n.value.sortBy,sortOrder:n.value.sortingOrder,offset:(r.value.page-1)*r.value.perPage,limit:r.value.perPage,...a.value.isActive&&{excludeStatus:"initial"},...!a.value.isActive&&{status:"initial"}},{data:o}=await pe.getOrders(v);t.value=o.data;const f={page:r.value.page,perPage:10,total:o.total};i(()=>{r.value=f}),e.value=!1},{ignoreUpdates:i}=kt([r,n],l,{deep:!0});return bt(a,()=>{r.value.page=1,l()},{deep:!0}),l(),{categorys:Xr,isLoading:e,filters:a,sorting:n,pagination:r,orders:t,fetch:l,getServiceDate:v=>Yr(Number(v.orderPlanEscort.startTime)),getServiceDuring:v=>{const o=D.fromMillis(Number(v.orderPlanEscort.startTime),{zone:"Asia/Ho_Chi_Minh"}),f=o.plus({hours:Number(v.orderPlanEscort.serviceHours)});return`${o.toFormat("HH:mm")} - ${f.toFormat("HH:mm")}`},getGuideExpect:v=>{var o;return(o=v.orderPlanEscort.guideExpectIds)==null?void 0:o.split(",").map(f=>{var b;return(b=$s.escorts.find(S=>S.id===Number(f)))==null?void 0:b.name}).join(", ")},getAttractions:v=>{var o;return(o=v.orderPlanEscort.attractionIds)==null?void 0:o.split(",").map(f=>{var b;return(b=$s.attractions.find(S=>S.id===Number(f)))==null?void 0:b.name}).join(", ")},async add(v){console.log("add order",v)},async update(v){console.log("update order",v)},async remove(v){console.log("remove order",v)}}},Qr=s=>(Ra("data-v-9d46bae2"),s=s(),za(),s),Kr={class:"flex items-center gap-2 max-w-[230px] ellipsis"},el={class:"max-w-[120px] ellipsis"},tl={class:"ellipsis max-w-[230px]"},sl={class:"ellipsis max-w-[230px]"},al={class:"ellipsis max-w-[230px]"},nl={class:"ellipsis max-w-[230px]"},rl={class:"ellipsis max-w-[230px]"},ll={class:"ellipsis max-w-[230px]"},ol={class:"max-w-[180px] ellipsis"},il={class:"ellipsis max-w-[230px]"},ul=Qr(()=>V("div",{class:"ellipsis max-w-[230px]"},"服務人員",-1)),dl={class:"ellipsis max-w-[230px]"},cl={class:"ellipsis max-w-[230px]"},ml={class:"flex gap-2 justify-end"},fl={class:"flex flex-col-reverse md:flex-row gap-2 justify-between items-center py-2"},hl={key:0,class:"flex"},pl=Ge({__name:"OrdersTable",props:{orders:{type:Array,required:!0},loading:{type:Boolean,default:!1},pagination:{type:Object,required:!0},sortBy:{type:String,required:!0},sortingOrder:{type:String,required:!0}},emits:["edit-order","delete-order","update:sortBy","update:sortingOrder"],setup(s,{emit:e}){const{categorys:t}=$e(),{formatDateTime:a,formatDateTimeV:n}=ve(),{getServiceDate:r,getServiceDuring:l}=$e(),i=_a([{label:"訂單編號",key:"id",sortable:!0},{label:"訂單狀態",key:"status",sortable:!0},{label:"付款狀態",key:"payment",sortable:!1},{label:"操作狀態",key:"manualOperationStatus",sortable:!1},{label:"下訂時間",key:"createdAt",sortable:!0},{label:"訂購人",key:"username",sortable:!0},{label:"訂購項目",key:"type",sortable:!0},{label:"訂購方案",key:"planName",sortable:!0},{label:"行程時段",key:"startTime",sortable:!0},{label:"已支付訂金",key:"deposit",sortable:!0},{label:"尾款(VND)",key:"finalPayment",sortable:!0},{label:" ",key:"actions",align:"right"}]),d={1:"東方小巴黎",2:"華燈夜生活",3:"西貢河船宴",4:"韓式桑拿趣"},h={1:"機場-市區",2:"市區-機場"},p=s,m=e,v=Ha(p,"orders"),o=ss(p,"sortBy",m),f=ss(p,"sortingOrder",m),b={initial:"secondary",payment:"warning",payment_fail:"warning",completed:"success",cancel:"warning",cancel_completed:"secondary"},S={initial:"草稿",payment:"未付款",payment_fail:"付款失敗",completed:"已完成",cancel:"訂單取消",cancel_completed:"已取消"},E={[ne.PENDING]:"待處理",[ne.PROCESSED]:"已處理"},W={[ne.PENDING]:"warning",[ne.PROCESSED]:"success"},w=ae(()=>Math.ceil(p.pagination.total/p.pagination.perPage)),{confirm:I}=Wa(),U=async c=>{await I({title:"Delete user",message:`Are you sure you want to delete ${c.id}?`,okText:"Delete",cancelText:"Cancel",size:"small",maxWidth:"380px"})&&m("delete-order",c)},A=c=>{const $=c.payment||[];if($.length===0)return 0;const L=$.find(x=>x.type===pt.ECPAY_PAYMENT);return L?L.amount:0},N=c=>c<1e3?c.toString():`${Math.floor(c/1e3)}K`,y=c=>{switch(c.type){case X.SHUTTLE:return N(c.orderPlanShuttleSnapshot.totalAmount-c.orderPlanShuttleSnapshot.prePaymentAmount);case X.CHARTER:return N(c.orderPlanCharterSnapshot.totalAmount-c.orderPlanCharterSnapshot.prePaymentAmount);case X.ESCORT:return N(c.orderPlanEscortSnapshot.totalAmount-c.orderPlanEscortSnapshot.prePaymentAmount)}},q={[pt.ECPAY_PAYMENT]:"綠界付款",[pt.VOIN_PAYMENT]:"VCoin"},P={[fe.INITIAL]:"未付款",[fe.COMPLETED]:"付款成功",[fe.FAILED]:"付款失敗",[fe.EXPIRED]:"付款逾期",[fe.REFUND]:"退款"},G={[fe.INITIAL]:"warning",[fe.COMPLETED]:"success",[fe.FAILED]:"danger",[fe.EXPIRED]:"secondary",[fe.REFUND]:"warning"},T=c=>{const $=q[c.type],L=P[c.status];return`${$} - ${L}`},g=ae(()=>v.value.map(c=>{if(c.type===X.ESCORT)return{...c,planName:d[c.orderPlanEscort.planId],startTime:`${r(c)}
${l(c)}`,orderPlanEscort:{...c.orderPlanEscort}};if(c.type===X.SHUTTLE)return{...c,planName:h[c.orderPlanShuttle.planId],startTime:n(Number(c.orderPlanShuttle.time)),orderPlanEscort:{...c.orderPlanShuttle}};if(c.type===X.CHARTER)return{...c,planName:"包車旅遊",startTime:n(Number(c.orderPlanCharter.time)),orderPlanEscort:{...c.orderPlanCharter}};if(c.type===X.MASSAGE){let $=n(Number(c.orderPlanDragonMassage.time));return c.orderPlanDragonMassage.confirmedTime&&($=n(Number(c.orderPlanDragonMassage.confirmedTime))),{...c,planName:"龍筋按摩",startTime:$,orderPlanEscort:{...c.orderPlanDragonMassage}}}}));return(c,$)=>{const L=_("VaBadge"),x=_("VaButton"),ge=_("VaDataTable"),xe=_("VaSelect"),ke=_("VaPagination");return Q(),Ve(Vt,null,[u(ge,{"sort-by":Y(o),"onUpdate:sortBy":$[0]||($[0]=C=>as(o)?o.value=C:null),"sorting-order":Y(f),"onUpdate:sortingOrder":$[1]||($[1]=C=>as(f)?f.value=C:null),columns:Y(i),items:g.value,loading:c.$props.loading},{"cell(id)":O(({rowData:C})=>[V("div",Kr,se(C.id),1)]),"cell(username)":O(({rowData:C})=>[V("div",el,se(C.userInfo.firstName),1)]),"cell(status)":O(({rowData:C})=>[V("div",tl,[u(L,{text:S[C.status],color:b[C.status]},null,8,["text","color"])])]),"cell(payment)":O(({rowData:C})=>[V("div",sl,[(Q(!0),Ve(Vt,null,Us(C.payment,le=>(Q(),Te(L,{key:le.id,text:T(le),color:G[le.status]},null,8,["text","color"]))),128))])]),"cell(manualOperationStatus)":O(({rowData:C})=>[V("div",al,[u(L,{text:E[C.manualOperationStatus],color:W[C.manualOperationStatus]},null,8,["text","color"])])]),"cell(createdAt)":O(({rowData:C})=>[V("div",nl,se(Y(a)(Number(C.createdAt))),1)]),"cell(type)":O(({rowData:C})=>[V("div",rl,se(Y(t)[C.type]),1)]),"cell(planName)":O(({rowData:C})=>[V("div",ll,se(C.planName),1)]),"cell(startTime)":O(({rowData:C})=>[V("div",ol,se(C.startTime),1)]),"cell(numGuides)":O(({rowData:C})=>{var le;return[V("div",il,se((le=C.orderPlanEscort)==null?void 0:le.numGuides),1)]}),"cell(attendant)":O(({})=>[ul]),"cell(deposit)":O(({rowData:C})=>[V("div",dl,se(A(C)),1)]),"cell(finalPayment)":O(({rowData:C})=>[V("div",cl,se(y(C)),1)]),"cell(role)":O(({rowData:C})=>[u(L,{text:C.status,color:b[C.status]},null,8,["text","color"])]),"cell(actions)":O(({rowData:C})=>[V("div",ml,[u(x,{preset:"primary",size:"small",icon:"mso-edit","aria-label":"Edit user",onClick:le=>c.$emit("edit-order",C)},null,8,["onClick"]),u(x,{preset:"primary",size:"small",icon:"mso-delete",color:"danger","aria-label":"Delete user",onClick:le=>U(C)},null,8,["onClick"])])]),_:1},8,["sort-by","sorting-order","columns","items","loading"]),V("div",fl,[V("div",null,[V("b",null,"共"+se(c.$props.pagination.total)+" 筆資料",1),Se(" 每頁筆數 "),u(xe,{modelValue:c.$props.pagination.perPage,"onUpdate:modelValue":$[2]||($[2]=C=>c.$props.pagination.perPage=C),class:"!w-20",options:[10]},null,8,["modelValue"])]),w.value>1?(Q(),Ve("div",hl,[u(x,{preset:"secondary",icon:"va-arrow-left","aria-label":"Previous page",disabled:c.$props.pagination.page===1,onClick:$[3]||($[3]=C=>c.$props.pagination.page--)},null,8,["disabled"]),u(x,{class:"mr-2",preset:"secondary",icon:"va-arrow-right","aria-label":"Next page",disabled:c.$props.pagination.page===w.value,onClick:$[4]||($[4]=C=>c.$props.pagination.page++)},null,8,["disabled"]),u(ke,{modelValue:c.$props.pagination.page,"onUpdate:modelValue":$[5]||($[5]=C=>c.$props.pagination.page=C),"buttons-preset":"secondary",pages:w.value,"visible-pages":5,"boundary-links":!1,"direction-links":!1},null,8,["modelValue","pages"])])):Ze("",!0)])],64)}}});const yl=Za(pl,[["__scopeId","data-v-9d46bae2"]]),gl={class:"self-stretch flex-col justify-start items-start gap-4 flex"},vl=V("span",{class:"px-2"},"訂單資訊",-1),wl={class:"flex gap-4 flex-col sm:flex-row w-full"},Vl={class:"flex gap-4 flex-col sm:flex-row w-full"},Tl={class:"flex gap-4 flex-col sm:flex-row w-full"},Sl={class:"flex gap-4 flex-col sm:flex-row w-full"},Il={class:"flex gap-4 flex-col sm:flex-row w-full"},xl={class:"flex gap-4 flex-col sm:flex-row w-full"},kl=V("span",{class:"px-2"},"聯絡資訊",-1),bl={class:"flex gap-4 flex-col sm:flex-row w-full"},Ol={class:"flex gap-4 flex-col sm:flex-row w-full"},Dl={class:"flex gap-4 flex-col sm:flex-row w-full"},Nl={class:"flex gap-4 flex-col sm:flex-row w-full"},El=V("span",{class:"px-2"},"訂單狀態",-1),Ml=V("span",{class:"px-2"},"結帳資訊",-1),Cl={class:"flex gap-2 flex-col-reverse items-stretch justify-end w-full sm:flex-row sm:items-center"},Al=Ge({__name:"OrderDetailForm",props:{order:{type:Object,required:!0},saveButtonLabel:{type:String,default:"Save"}},emits:["close","save"],setup(s,{emit:e}){const t=st(),{notify:a}=at(),{formatDate:n}=ve(),{categorys:r,getServiceDate:l,getServiceDuring:i,getGuideExpect:d,getAttractions:h}=$e(),p={1:"東方小巴黎",2:"華燈夜生活",3:"西貢河船宴",4:"韓式桑拿趣"},m={[ht.NORMAL]:"時裝",[ht.AO_DAI]:"奧黛"},v={[He.SCOOTER]:"機車",[He.DO_DO_CAR]:"嘟嘟車",[He.TAXI]:"TAXI"},o=[{text:"待處理",value:ne.PENDING},{text:"已處理",value:ne.PROCESSED}],f=s,b={id:-1,createdAt:"",category:"",plan:"",serviceDate:"",serviceDuring:"",numTourists:0,numGuides:0,guideExpect:"",guideDress:"",attractions:"",meetAddress:"",note:""},S=ae(()=>{if(!f.order)return b;const N=n(Number(f.order.orderPlanEscort.createdAt));return{id:f.order.id,manualOperationStatus:f.order.manualOperationStatus,createdAt:N,category:r[f.order.type],plan:p[f.order.orderPlanEscort.planId],serviceDate:l(f.order),serviceDuring:i(f.order),numTourists:f.order.orderPlanEscort.numTourists,numGuides:f.order.orderPlanEscort.numGuides,guideExpect:d(f.order),guideDress:m[f.order.orderPlanEscort.guideDress||ht.NORMAL],attractions:h(f.order),meetAddress:f.order.orderPlanEscort.meetAddress,note:f.order.orderPlanEscort.note,vehicle:v[f.order.orderPlanEscort.vehicle],needHoldHands:f.order.orderPlanEscort.needHoldHands?"是":"否"}}),E=ae(()=>{var G,T,g,c,$,L;const N=(G=f.order.userInfo.socialMedia.find(x=>x.type==="line"))==null?void 0:G.accountId,y=(T=f.order.userInfo.socialMedia.find(x=>x.type==="wechat"))==null?void 0:T.accountId,q=(g=f.order.userInfo.socialMedia.find(x=>x.type==="telegram"))==null?void 0:g.accountId,P=(c=f.order.userInfo.socialMedia.find(x=>x.type==="zalo"))==null?void 0:c.accountId;return{firstName:f.order.userInfo.firstName,email:f.order.userInfo.email,phone:($=f.order.userInfo.phone)==null?void 0:$.phoneNumber,phoneCode:(L=f.order.userInfo.phone)==null?void 0:L.code,lineId:N,wechatId:y,telegramId:q,zaloId:P}}),W=Z([]),w=e,I=async()=>{var N;if(W.value.length>0&&((N=f.order.orderPlanEscort.guideAssignedIds)==null?void 0:N.join(""))!==W.value.join("")){const y={orderId:f.order.id,guideIds:W.value};await pe.assignGuidesToOrder(y)}if(S.value.meetAddress!==f.order.orderPlanEscort.meetAddress){const y={orderId:f.order.id,planParams:{meetAddress:S.value.meetAddress}};await pe.updateEscortOrder(y)}pe.updateManualOperationStatus({orderId:f.order.id,manualOperationStatus:S.value.manualOperationStatus}),w("save")},U=ae(()=>t.escorts.map(N=>({text:N.name,value:N.id})));Ot(()=>{W.value=f.order.orderPlanEscort.guideAssignedIds||[]});const A=async N=>{if(N)try{await navigator.clipboard.writeText(N),a({message:`已複製到剪貼簿: ${N}`,duration:3e3})}catch(y){alert(`Failed to copy text: ${y}`)}};return(N,y)=>{const q=_("VaDivider"),P=_("VaInput"),G=_("VaSelect"),T=_("VaTextarea"),g=_("VaIcon"),c=_("VaButton"),$=_("VaForm");return Q(),Te($,{ref:"add-user-form",class:"flex-col justify-start items-start gap-4 inline-flex w-full"},{default:O(({isValid:L})=>[V("div",gl,[u(q,{class:"w-full",orientation:"left"},{default:O(()=>[vl]),_:1}),V("div",wl,[u(P,{modelValue:S.value.id,"onUpdate:modelValue":y[0]||(y[0]=x=>S.value.id=x),label:"訂單編號",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},null,8,["modelValue"]),u(P,{modelValue:S.value.createdAt,"onUpdate:modelValue":y[1]||(y[1]=x=>S.value.createdAt=x),label:"下訂時間",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",Vl,[u(P,{modelValue:S.value.category,"onUpdate:modelValue":y[2]||(y[2]=x=>S.value.category=x),label:"訂購項目",class:"w-full sm:w-1/2",name:"category",readonly:"",preset:"solid"},null,8,["modelValue"]),u(P,{modelValue:S.value.plan,"onUpdate:modelValue":y[3]||(y[3]=x=>S.value.plan=x),label:"訂購方案",class:"w-full sm:w-1/2",name:"plan",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",Tl,[u(P,{modelValue:S.value.serviceDate,"onUpdate:modelValue":y[4]||(y[4]=x=>S.value.serviceDate=x),label:"行程日期",class:"w-full sm:w-1/2",name:"fullname",readonly:"",preset:"solid"},null,8,["modelValue"]),u(P,{modelValue:S.value.serviceDuring,"onUpdate:modelValue":y[5]||(y[5]=x=>S.value.serviceDuring=x),label:"行程時段",class:"w-full sm:w-1/2",name:"serviceDuring",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",Sl,[u(P,{modelValue:S.value.numTourists,"onUpdate:modelValue":y[6]||(y[6]=x=>S.value.numTourists=x),label:"遊客人數",class:"w-full sm:w-1/2",name:"numTourists",readonly:"",preset:"solid"},null,8,["modelValue"]),u(P,{modelValue:S.value.numGuides,"onUpdate:modelValue":y[7]||(y[7]=x=>S.value.numGuides=x),label:"導遊人數",class:"w-full sm:w-1/2",name:"numGuides",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",Il,[u(P,{modelValue:S.value.guideExpect,"onUpdate:modelValue":y[8]||(y[8]=x=>S.value.guideExpect=x),label:"導遊偏好",class:"w-full sm:w-1/2",name:"guideExpect",readonly:"",preset:"solid"},null,8,["modelValue"]),u(P,{modelValue:S.value.guideDress,"onUpdate:modelValue":y[9]||(y[9]=x=>S.value.guideDress=x),label:"導遊穿著",class:"w-full sm:w-1/2",name:"guideDress",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",xl,[u(P,{modelValue:S.value.vehicle,"onUpdate:modelValue":y[10]||(y[10]=x=>S.value.vehicle=x),label:"交通工具",class:"w-full sm:w-1/2",name:"guideExpect",readonly:"",preset:"solid"},null,8,["modelValue"]),u(P,{modelValue:S.value.needHoldHands,"onUpdate:modelValue":y[11]||(y[11]=x=>S.value.needHoldHands=x),label:"是否牽手",class:"w-full sm:w-1/2",name:"guideDress",readonly:"",preset:"solid"},null,8,["modelValue"])]),u(G,{modelValue:W.value,"onUpdate:modelValue":y[12]||(y[12]=x=>W.value=x),label:"導遊指派",class:"w-full",options:U.value,name:"projects","text-by":"text","track-by":"value","value-by":"value",multiple:""},null,8,["modelValue","options"]),u(P,{modelValue:S.value.attractions,"onUpdate:modelValue":y[13]||(y[13]=x=>S.value.attractions=x),label:"景點偏好",class:"w-full",name:"attractions",readonly:"",preset:"solid"},null,8,["modelValue"]),u(T,{modelValue:S.value.meetAddress,"onUpdate:modelValue":y[14]||(y[14]=x=>S.value.meetAddress=x),label:"會合地址",class:"w-full",name:"meetAddress"},null,8,["modelValue"]),u(T,{modelValue:S.value.note,"onUpdate:modelValue":y[15]||(y[15]=x=>S.value.note=x),label:"訂單備註",class:"w-full",name:"note",readonly:"",preset:"solid"},null,8,["modelValue"]),u(q,{class:"w-full",orientation:"left"},{default:O(()=>[kl]),_:1}),V("div",bl,[u(P,{modelValue:E.value.firstName,"onUpdate:modelValue":y[16]||(y[16]=x=>E.value.firstName=x),label:"訂購人",class:"w-full sm:w-1/2",name:"firstName",readonly:"",preset:"solid"},null,8,["modelValue"]),u(P,{modelValue:E.value.email,"onUpdate:modelValue":y[18]||(y[18]=x=>E.value.email=x),label:"連絡信箱",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},{appendInner:O(()=>[u(g,{name:"content_copy",color:"secondary",onClick:y[17]||(y[17]=()=>A(E.value.email))})]),_:1},8,["modelValue"])]),V("div",Ol,[u(P,{modelValue:E.value.phoneCode,"onUpdate:modelValue":y[19]||(y[19]=x=>E.value.phoneCode=x),label:"手機國碼",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},null,8,["modelValue"]),u(P,{modelValue:E.value.phone,"onUpdate:modelValue":y[21]||(y[21]=x=>E.value.phone=x),label:"手機號碼",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},{appendInner:O(()=>[u(g,{name:"content_copy",color:"secondary",onClick:y[20]||(y[20]=()=>A(E.value.phone))})]),_:1},8,["modelValue"])]),V("div",Dl,[u(P,{modelValue:E.value.lineId,"onUpdate:modelValue":y[23]||(y[23]=x=>E.value.lineId=x),label:"Line ID",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},te({_:2},[E.value.lineId?{name:"appendInner",fn:O(()=>[u(g,{name:"content_copy",color:"secondary",onClick:y[22]||(y[22]=()=>A(E.value.lineId))})]),key:"0"}:void 0]),1032,["modelValue"]),u(P,{modelValue:E.value.wechatId,"onUpdate:modelValue":y[25]||(y[25]=x=>E.value.wechatId=x),label:"WECHAT ID",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},te({_:2},[E.value.wechatId?{name:"appendInner",fn:O(()=>[u(g,{name:"content_copy",color:"secondary",onClick:y[24]||(y[24]=()=>A(E.value.wechatId))})]),key:"0"}:void 0]),1032,["modelValue"])]),V("div",Nl,[u(P,{modelValue:E.value.telegramId,"onUpdate:modelValue":y[27]||(y[27]=x=>E.value.telegramId=x),label:"TELEGRAM",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},te({_:2},[E.value.telegramId?{name:"appendInner",fn:O(()=>[u(g,{name:"content_copy",color:"secondary",onClick:y[26]||(y[26]=()=>A(E.value.telegramId))})]),key:"0"}:void 0]),1032,["modelValue"]),u(P,{modelValue:E.value.zaloId,"onUpdate:modelValue":y[29]||(y[29]=x=>E.value.zaloId=x),label:"ZALO",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},te({_:2},[E.value.zaloId?{name:"appendInner",fn:O(()=>[u(g,{name:"content_copy",color:"secondary",onClick:y[28]||(y[28]=()=>A(E.value.zaloId))})]),key:"0"}:void 0]),1032,["modelValue"])]),u(q,{class:"w-full",orientation:"left"},{default:O(()=>[El]),_:1}),u(G,{modelValue:S.value.manualOperationStatus,"onUpdate:modelValue":y[30]||(y[30]=x=>S.value.manualOperationStatus=x),label:"操作狀態",class:"w-full",options:o,name:"projects","text-by":"text","track-by":"value","value-by":"value"},null,8,["modelValue"]),u(q,{class:"w-full",orientation:"left"},{default:O(()=>[Ml]),_:1}),V("div",Cl,[u(c,{preset:"secondary",color:"secondary",onClick:y[31]||(y[31]=x=>N.$emit("close"))},{default:O(()=>[Se("取消")]),_:1}),u(c,{disabled:!L,onClick:I},{default:O(()=>[Se(se(s.saveButtonLabel),1)]),_:2},1032,["disabled"])])])]),_:1},512)}}}),Fs=st(),{formatDate:$l}=ve(),Fl=()=>Z({page:1,perPage:10,total:0}),Pl=()=>Z({sortBy:"createdAt",sortingOrder:null}),Ul=()=>Z({isActive:!0,search:""}),Ll={[X.ESCORT]:"奧黛導遊",[X.SHUTTLE]:"接幾送機"},_l=s=>{const e=Z(!1),t=Z([]),{filters:a=Ul(),sorting:n=Pl(),pagination:r=Fl()}=s||{},l=async()=>{e.value=!0;const o={...Y(a),sortBy:n.value.sortBy,sortOrder:n.value.sortingOrder,offset:(r.value.page-1)*r.value.perPage,limit:r.value.perPage,...a.value.isActive&&{excludeStatus:"initial"},...!a.value.isActive&&{status:"initial"}},{data:f}=await pe.getOrders(o);t.value=f.data;const b={page:r.value.page,perPage:10,total:f.total};i(()=>{r.value=b}),e.value=!1},{ignoreUpdates:i}=kt([r,n],l,{deep:!0});return bt(a,()=>{r.value.page=1,l()},{deep:!0}),l(),{categorys:Ll,isLoading:e,filters:a,sorting:n,pagination:r,orders:t,fetch:l,getServiceDate:o=>$l(Number(o.orderPlanEscort.startTime)),getStartTime:o=>D.fromMillis(Number(o.orderPlanShuttle.time),{zone:"Asia/Ho_Chi_Minh"}).toFormat("HH:mm"),getServiceDuring:o=>{const f=D.fromMillis(Number(o.orderPlanEscort.startTime),{zone:"Asia/Ho_Chi_Minh"}),b=f.plus({hours:Number(o.orderPlanEscort.serviceHours)});return`${f.toFormat("HH:mm")} - ${b.toFormat("HH:mm")}`},getGuideExpect:o=>{var f;return(f=o.orderPlanEscort.guideExpectIds)==null?void 0:f.split(",").map(b=>{var S;return(S=Fs.escorts.find(E=>E.id===Number(b)))==null?void 0:S.name}).join(", ")},getAttractions:o=>{var f;return(f=o.orderPlanEscort.attractionIds)==null?void 0:f.split(",").map(b=>{var S;return(S=Fs.attractions.find(E=>E.id===Number(b)))==null?void 0:S.name}).join(", ")},async add(o){console.log("add order",o)},async update(o){console.log("update order",o)},async remove(o){console.log("remove order",o)}}},Wl={class:"self-stretch flex-col justify-start items-start gap-4 flex"},Hl=V("span",{class:"px-2"},"訂單資訊",-1),Rl={class:"flex gap-4 flex-col sm:flex-row w-full"},zl={class:"flex gap-4 flex-col sm:flex-row w-full"},Zl={class:"flex gap-4 flex-col sm:flex-row w-full"},ql={class:"flex gap-4 flex-col sm:flex-row w-full"},Gl={class:"flex gap-4 flex-col sm:flex-row w-full"},Yl={class:"flex gap-4 flex-col sm:flex-row w-full"},Bl={key:0,class:"flex gap-4 flex-col sm:flex-row w-full"},jl={class:"flex gap-4 flex-col sm:flex-row w-full"},Jl=V("span",{class:"px-2"},"聯絡資訊",-1),Xl={class:"flex gap-4 flex-col sm:flex-row w-full"},Ql={class:"flex gap-4 flex-col sm:flex-row w-full"},Kl={class:"flex gap-4 flex-col sm:flex-row w-full"},eo={class:"flex gap-4 flex-col sm:flex-row w-full"},to=V("span",{class:"px-2"},"訂單狀態",-1),so=V("span",{class:"px-2"},"結帳資訊",-1),ao={class:"flex gap-2 flex-col-reverse items-stretch justify-end w-full sm:flex-row sm:items-center"},no=Ge({__name:"OrderShuttleDetailForm",props:{order:{type:Object,required:!0},saveButtonLabel:{type:String,default:"Save"}},emits:["close","save"],setup(s,{emit:e}){const{notify:t}=at(),{formatDate:a}=ve(),{categorys:n}=$e(),{getStartTime:r}=_l(),l={1:"接機",2:"送機"},i={1:"經濟五座",2:"尊爵五座",3:"經濟七座",4:"商務七座",5:"尊爵七座",6:"商務九座",7:"多人巴士"},d={1:"1郡/3郡/富潤郡/新平郡",2:"7郡/守德市",3:"4郡/5郡/10郡/平盛郡",4:"其他郡（6郡/8郡/11郡/12郡/平新郡/舊邑郡/新富郡）"},h=[{text:"待處理",value:ne.PENDING},{text:"已處理",value:ne.PROCESSED}],p=s,m={id:-1,manualOperationStatus:ne.PENDING,createdAt:"",category:"",planId:-1,plan:"",cardName:"",areaName:"",serviceDate:"",serviceDuring:"",buyFastPass:"",passengerNumber:0,passengerName:"",largeLuggageAmount:0,smallLuggageAmount:0,flightNumber:"",flightArrivalTime:"",flightType:"",customLocation:"",hotelName:"",note:""},v=ae(()=>{if(!p.order)return m;const W=a(Number(p.order.orderPlanShuttle.createdAt));return{id:p.order.id,manualOperationStatus:p.order.manualOperationStatus,createdAt:W,category:n[p.order.type],planId:p.order.orderPlanShuttle.planId,plan:l[p.order.orderPlanShuttle.planId],cardName:i[p.order.orderPlanShuttle.carId],areaName:d[p.order.orderPlanShuttle.areaId],serviceDate:a(Number(p.order.orderPlanShuttle.time)),serviceDuring:r(p.order),buyFastPass:p.order.orderPlanShuttle.buyFastPass?"是":"否",passengerNumber:p.order.orderPlanShuttle.passengerNumber,passengerName:p.order.orderPlanShuttle.passengerName,largeLuggageAmount:p.order.orderPlanShuttle.largeLuggageAmount,smallLuggageAmount:p.order.orderPlanShuttle.smallLuggageAmount,flightNumber:p.order.orderPlanShuttle.flightNumber,flightArrivalTime:p.order.orderPlanShuttle.flightArrivalTime,flightType:p.order.orderPlanShuttle.flightType==="international"?"國際線":"國內線",customLocation:p.order.orderPlanShuttle.customLocation,hotelName:p.order.orderPlanShuttle.hotelName,note:p.order.orderPlanShuttle.note}}),o=ae(()=>{var A,N,y,q,P,G;const W=(A=p.order.userInfo.socialMedia.find(T=>T.type==="line"))==null?void 0:A.accountId,w=(N=p.order.userInfo.socialMedia.find(T=>T.type==="wechat"))==null?void 0:N.accountId,I=(y=p.order.userInfo.socialMedia.find(T=>T.type==="telegram"))==null?void 0:y.accountId,U=(q=p.order.userInfo.socialMedia.find(T=>T.type==="zalo"))==null?void 0:q.accountId;return{firstName:p.order.userInfo.firstName,email:p.order.userInfo.email,phone:(P=p.order.userInfo.phone)==null?void 0:P.phoneNumber,phoneCode:(G=p.order.userInfo.phone)==null?void 0:G.code,lineId:W,wechatId:w,telegramId:I,zaloId:U}}),f=e,b=async()=>{pe.updateManualOperationStatus({orderId:p.order.id,manualOperationStatus:v.value.manualOperationStatus}),f("save")},S=ae(()=>v.value.planId===1);Ot(()=>{});const E=async W=>{if(W)try{await navigator.clipboard.writeText(W),t({message:`已複製到剪貼簿: ${W}`,duration:3e3})}catch(w){alert(`Failed to copy text: ${w}`)}};return(W,w)=>{const I=_("VaDivider"),U=_("VaInput"),A=_("VaTextarea"),N=_("VaIcon"),y=_("VaSelect"),q=_("VaButton"),P=_("VaForm");return Q(),Te(P,{ref:"add-user-form",class:"flex-col justify-start items-start gap-4 inline-flex w-full"},{default:O(({isValid:G})=>[V("div",Wl,[u(I,{class:"w-full",orientation:"left"},{default:O(()=>[Hl]),_:1}),V("div",Rl,[u(U,{modelValue:v.value.id,"onUpdate:modelValue":w[0]||(w[0]=T=>v.value.id=T),label:"訂單編號",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},null,8,["modelValue"]),u(U,{modelValue:v.value.createdAt,"onUpdate:modelValue":w[1]||(w[1]=T=>v.value.createdAt=T),label:"下訂時間",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",zl,[u(U,{modelValue:v.value.category,"onUpdate:modelValue":w[2]||(w[2]=T=>v.value.category=T),label:"訂購項目",class:"w-full sm:w-1/2",name:"category",readonly:"",preset:"solid"},null,8,["modelValue"]),u(U,{modelValue:v.value.plan,"onUpdate:modelValue":w[3]||(w[3]=T=>v.value.plan=T),label:"訂購方案",class:"w-full sm:w-1/2",name:"plan",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",Zl,[u(U,{modelValue:v.value.cardName,"onUpdate:modelValue":w[4]||(w[4]=T=>v.value.cardName=T),label:"車款",class:"w-full sm:w-1/2",name:"fullname",readonly:"",preset:"solid"},null,8,["modelValue"]),u(U,{modelValue:v.value.areaName,"onUpdate:modelValue":w[5]||(w[5]=T=>v.value.areaName=T),label:"接送區域",class:"w-full sm:w-1/2",name:"serviceDuring",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",ql,[u(U,{modelValue:v.value.serviceDate,"onUpdate:modelValue":w[6]||(w[6]=T=>v.value.serviceDate=T),label:"行程日期",class:"w-full sm:w-1/2",name:"fullname",readonly:"",preset:"solid"},null,8,["modelValue"]),u(U,{modelValue:v.value.serviceDuring,"onUpdate:modelValue":w[7]||(w[7]=T=>v.value.serviceDuring=T),label:"起始時間",class:"w-full sm:w-1/2",name:"serviceDuring",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",Gl,[u(U,{modelValue:v.value.passengerNumber,"onUpdate:modelValue":w[8]||(w[8]=T=>v.value.passengerNumber=T),label:"乘客人數",class:"w-full sm:w-1/2",name:"passengerNumber",readonly:"",preset:"solid"},null,8,["modelValue"]),u(U,{modelValue:v.value.passengerName,"onUpdate:modelValue":w[9]||(w[9]=T=>v.value.passengerName=T),label:S.value?"舉牌大名":"乘客姓名",class:"w-full sm:w-1/2",name:"passengerName",readonly:"",preset:"solid"},null,8,["modelValue","label"])]),V("div",Yl,[u(U,{modelValue:v.value.largeLuggageAmount,"onUpdate:modelValue":w[10]||(w[10]=T=>v.value.largeLuggageAmount=T),label:"大行李",class:"w-full sm:w-1/2",name:"largeLuggageAmount",readonly:"",preset:"solid"},null,8,["modelValue"]),u(U,{modelValue:v.value.smallLuggageAmount,"onUpdate:modelValue":w[11]||(w[11]=T=>v.value.smallLuggageAmount=T),label:"小行李",class:"w-full sm:w-1/2",name:"smallLuggageAmount",readonly:"",preset:"solid"},null,8,["modelValue"])]),S.value?(Q(),Ve("div",Bl,[u(U,{modelValue:v.value.flightNumber,"onUpdate:modelValue":w[12]||(w[12]=T=>v.value.flightNumber=T),label:"航班編號",class:"w-full sm:w-1/2",name:"flightNumber",readonly:"",preset:"solid"},null,8,["modelValue"]),u(U,{modelValue:v.value.flightArrivalTime,"onUpdate:modelValue":w[13]||(w[13]=T=>v.value.flightArrivalTime=T),label:"航班抵達時間",class:"w-full sm:w-1/2",name:"flightArrivalTime",readonly:"",preset:"solid"},null,8,["modelValue"])])):Ze("",!0),V("div",jl,[u(U,{modelValue:v.value.flightType,"onUpdate:modelValue":w[14]||(w[14]=T=>v.value.flightType=T),label:S.value?"航班類別":"下車地點",class:"w-full sm:w-1/2",name:"flightType",readonly:"",preset:"solid"},null,8,["modelValue","label"])]),u(A,{modelValue:v.value.customLocation,"onUpdate:modelValue":w[15]||(w[15]=T=>v.value.customLocation=T),label:S.value?"下車地點":"上車地點",class:"w-full",name:"customLocation",readonly:"",preset:"solid"},null,8,["modelValue","label"]),u(A,{modelValue:v.value.hotelName,"onUpdate:modelValue":w[16]||(w[16]=T=>v.value.hotelName=T),label:"飯店名稱",class:"w-full",name:"hotelName",readonly:"",preset:"solid"},null,8,["modelValue"]),u(A,{modelValue:v.value.note,"onUpdate:modelValue":w[17]||(w[17]=T=>v.value.note=T),label:"訂單備註",class:"w-full",name:"note",readonly:"",preset:"solid"},null,8,["modelValue"]),u(I,{class:"w-full",orientation:"left"},{default:O(()=>[Jl]),_:1}),V("div",Xl,[u(U,{modelValue:o.value.firstName,"onUpdate:modelValue":w[18]||(w[18]=T=>o.value.firstName=T),label:"訂購人",class:"w-full sm:w-1/2",name:"firstName",readonly:"",preset:"solid"},null,8,["modelValue"]),u(U,{modelValue:o.value.email,"onUpdate:modelValue":w[20]||(w[20]=T=>o.value.email=T),label:"連絡信箱",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},{appendInner:O(()=>[u(N,{name:"content_copy",color:"secondary",onClick:w[19]||(w[19]=()=>E(o.value.email))})]),_:1},8,["modelValue"])]),V("div",Ql,[u(U,{modelValue:o.value.phoneCode,"onUpdate:modelValue":w[21]||(w[21]=T=>o.value.phoneCode=T),label:"手機國碼",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},null,8,["modelValue"]),u(U,{modelValue:o.value.phone,"onUpdate:modelValue":w[23]||(w[23]=T=>o.value.phone=T),label:"手機號碼",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},{appendInner:O(()=>[u(N,{name:"content_copy",color:"secondary",onClick:w[22]||(w[22]=()=>E(o.value.phone))})]),_:1},8,["modelValue"])]),V("div",Kl,[u(U,{modelValue:o.value.lineId,"onUpdate:modelValue":w[25]||(w[25]=T=>o.value.lineId=T),label:"Line ID",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},te({_:2},[o.value.lineId?{name:"appendInner",fn:O(()=>[u(N,{name:"content_copy",color:"secondary",onClick:w[24]||(w[24]=()=>E(o.value.lineId))})]),key:"0"}:void 0]),1032,["modelValue"]),u(U,{modelValue:o.value.wechatId,"onUpdate:modelValue":w[27]||(w[27]=T=>o.value.wechatId=T),label:"WECHAT ID",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},te({_:2},[o.value.wechatId?{name:"appendInner",fn:O(()=>[u(N,{name:"content_copy",color:"secondary",onClick:w[26]||(w[26]=()=>E(o.value.wechatId))})]),key:"0"}:void 0]),1032,["modelValue"])]),V("div",eo,[u(U,{modelValue:o.value.telegramId,"onUpdate:modelValue":w[29]||(w[29]=T=>o.value.telegramId=T),label:"TELEGRAM",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},te({_:2},[o.value.telegramId?{name:"appendInner",fn:O(()=>[u(N,{name:"content_copy",color:"secondary",onClick:w[28]||(w[28]=()=>E(o.value.telegramId))})]),key:"0"}:void 0]),1032,["modelValue"]),u(U,{modelValue:o.value.zaloId,"onUpdate:modelValue":w[31]||(w[31]=T=>o.value.zaloId=T),label:"ZALO",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},te({_:2},[o.value.zaloId?{name:"appendInner",fn:O(()=>[u(N,{name:"content_copy",color:"secondary",onClick:w[30]||(w[30]=()=>E(o.value.zaloId))})]),key:"0"}:void 0]),1032,["modelValue"])]),u(I,{class:"w-full",orientation:"left"},{default:O(()=>[to]),_:1}),u(y,{modelValue:v.value.manualOperationStatus,"onUpdate:modelValue":w[32]||(w[32]=T=>v.value.manualOperationStatus=T),label:"操作狀態",class:"w-full",options:h,name:"projects","text-by":"text","track-by":"value","value-by":"value"},null,8,["modelValue"]),u(I,{class:"w-full",orientation:"left"},{default:O(()=>[so]),_:1}),V("div",ao,[u(q,{preset:"secondary",color:"secondary",onClick:w[33]||(w[33]=T=>W.$emit("close"))},{default:O(()=>[Se("取消")]),_:1}),u(q,{disabled:!G,onClick:b},{default:O(()=>[Se(se(s.saveButtonLabel),1)]),_:2},1032,["disabled"])])])]),_:1},512)}}}),Ps=st(),{formatDate:ro}=ve(),lo=()=>Z({page:1,perPage:10,total:0}),oo=()=>Z({sortBy:"createdAt",sortingOrder:null}),io=()=>Z({isActive:!0,search:""}),uo={[X.ESCORT]:"奧黛導遊",[X.Charter]:"接幾送機"},co=s=>{const e=Z(!1),t=Z([]),{filters:a=io(),sorting:n=oo(),pagination:r=lo()}=s||{},l=async()=>{e.value=!0;const o={...Y(a),sortBy:n.value.sortBy,sortOrder:n.value.sortingOrder,offset:(r.value.page-1)*r.value.perPage,limit:r.value.perPage,...a.value.isActive&&{excludeStatus:"initial"},...!a.value.isActive&&{status:"initial"}},{data:f}=await pe.getOrders(o);t.value=f.data;const b={page:r.value.page,perPage:10,total:f.total};i(()=>{r.value=b}),e.value=!1},{ignoreUpdates:i}=kt([r,n],l,{deep:!0});return bt(a,()=>{r.value.page=1,l()},{deep:!0}),l(),{categorys:uo,isLoading:e,filters:a,sorting:n,pagination:r,orders:t,fetch:l,getServiceDate:o=>ro(Number(o.orderPlanEscort.startTime)),getStartTime:o=>D.fromMillis(Number(o.orderPlanCharter.time),{zone:"Asia/Ho_Chi_Minh"}).toFormat("HH:mm"),getServiceDuring:o=>{const f=D.fromMillis(Number(o.orderPlanEscort.startTime),{zone:"Asia/Ho_Chi_Minh"}),b=f.plus({hours:Number(o.orderPlanEscort.serviceHours)});return`${f.toFormat("HH:mm")} - ${b.toFormat("HH:mm")}`},getGuideExpect:o=>{var f;return(f=o.orderPlanEscort.guideExpectIds)==null?void 0:f.split(",").map(b=>{var S;return(S=Ps.escorts.find(E=>E.id===Number(b)))==null?void 0:S.name}).join(", ")},getAttractions:o=>{var f;return(f=o.orderPlanEscort.attractionIds)==null?void 0:f.split(",").map(b=>{var S;return(S=Ps.attractions.find(E=>E.id===Number(b)))==null?void 0:S.name}).join(", ")},async add(o){console.log("add order",o)},async update(o){console.log("update order",o)},async remove(o){console.log("remove order",o)}}},mo={class:"self-stretch flex-col justify-start items-start gap-4 flex"},fo=V("span",{class:"px-2"},"訂單資訊",-1),ho={class:"flex gap-4 flex-col sm:flex-row w-full"},po={class:"flex gap-4 flex-col sm:flex-row w-full"},yo={class:"flex gap-4 flex-col sm:flex-row w-full"},go={class:"flex gap-4 flex-col sm:flex-row w-full"},vo={class:"flex gap-4 flex-col sm:flex-row w-full"},wo=V("span",{class:"px-2"},"聯絡資訊",-1),Vo={class:"flex gap-4 flex-col sm:flex-row w-full"},To={class:"flex gap-4 flex-col sm:flex-row w-full"},So={class:"flex gap-4 flex-col sm:flex-row w-full"},Io={class:"flex gap-4 flex-col sm:flex-row w-full"},xo=V("span",{class:"px-2"},"訂單狀態",-1),ko=V("span",{class:"px-2"},"結帳資訊",-1),bo={class:"flex gap-2 flex-col-reverse items-stretch justify-end w-full sm:flex-row sm:items-center"},Oo=Ge({__name:"OrderCharterDetailForm",props:{order:{type:Object,required:!0},saveButtonLabel:{type:String,default:"Save"}},emits:["close","save"],setup(s,{emit:e}){const{notify:t}=at(),{formatDate:a}=ve(),{categorys:n}=$e(),{getStartTime:r}=co(),l={1:"包車旅遊"},i={1:"經濟五座",2:"尊爵五座",3:"經濟七座",4:"商務七座",5:"尊爵七座",6:"商務九座",7:"多人巴士"},d={1:"4hr/50km",2:"4hr/100km",3:"8hr/100km",4:"8hr/200km",5:"10hr/100km",6:"10hr/300km"},h={[He.SCOOTER]:"機車",[He.DO_DO_CAR]:"嘟嘟車",[He.TAXI]:"TAXI"},p=[{text:"待處理",value:ne.PENDING},{text:"已處理",value:ne.PROCESSED}],m=s,v={id:-1,createdAt:"",category:"",plan:"",serviceDate:"",serviceDuring:"",numTourists:0,numGuides:0,guideExpect:"",guideDress:"",attractions:"",meetAddress:"",note:""},o=ae(()=>{if(!m.order)return v;const w=a(Number(m.order.orderPlanEscort.createdAt));return{id:m.order.id,manualOperationStatus:m.order.manualOperationStatus,createdAt:w,category:n[m.order.type],plan:l[m.order.orderPlanCharter.planId],cardName:i[m.order.orderPlanCharter.carId],days:m.order.orderPlanCharter.days,packageName:d[m.order.orderPlanCharter.packageId],serviceDate:a(Number(m.order.orderPlanCharter.time)),serviceDuring:r(m.order),passengerNumber:m.order.orderPlanCharter.passengerNumber,pickupLocation:m.order.orderPlanCharter.pickupLocation,dropOffLocation:m.order.orderPlanCharter.dropOffLocation,travelPlanNote:m.order.orderPlanCharter.travelPlanNote,vehicle:h[m.order.orderPlanEscort.vehicle],needHoldHands:m.order.orderPlanEscort.needHoldHands?"是":"否"}}),f=ae(()=>{var N,y,q,P,G,T;const w=(N=m.order.userInfo.socialMedia.find(g=>g.type==="line"))==null?void 0:N.accountId,I=(y=m.order.userInfo.socialMedia.find(g=>g.type==="wechat"))==null?void 0:y.accountId,U=(q=m.order.userInfo.socialMedia.find(g=>g.type==="telegram"))==null?void 0:q.accountId,A=(P=m.order.userInfo.socialMedia.find(g=>g.type==="zalo"))==null?void 0:P.accountId;return{firstName:m.order.userInfo.firstName,email:m.order.userInfo.email,phone:(G=m.order.userInfo.phone)==null?void 0:G.phoneNumber,phoneCode:(T=m.order.userInfo.phone)==null?void 0:T.code,lineId:w,wechatId:I,telegramId:U,zaloId:A}}),b=Z([]),S=e,E=async()=>{pe.updateManualOperationStatus({orderId:m.order.id,manualOperationStatus:o.value.manualOperationStatus}),S("save")};Ot(()=>{b.value=m.order.orderPlanEscort.guideAssignedIds||[]});const W=async w=>{if(w)try{await navigator.clipboard.writeText(w),t({message:`已複製到剪貼簿: ${w}`,duration:3e3})}catch(I){alert(`Failed to copy text: ${I}`)}};return(w,I)=>{const U=_("VaDivider"),A=_("VaInput"),N=_("VaTextarea"),y=_("VaIcon"),q=_("VaSelect"),P=_("VaButton"),G=_("VaForm");return Q(),Te(G,{ref:"add-user-form",class:"flex-col justify-start items-start gap-4 inline-flex w-full"},{default:O(({isValid:T})=>[V("div",mo,[u(U,{class:"w-full",orientation:"left"},{default:O(()=>[fo]),_:1}),V("div",ho,[u(A,{modelValue:o.value.id,"onUpdate:modelValue":I[0]||(I[0]=g=>o.value.id=g),label:"訂單編號",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},null,8,["modelValue"]),u(A,{modelValue:o.value.createdAt,"onUpdate:modelValue":I[1]||(I[1]=g=>o.value.createdAt=g),label:"下訂時間",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",po,[u(A,{modelValue:o.value.category,"onUpdate:modelValue":I[2]||(I[2]=g=>o.value.category=g),label:"訂購項目",class:"w-full sm:w-1/2",name:"category",readonly:"",preset:"solid"},null,8,["modelValue"]),u(A,{modelValue:o.value.plan,"onUpdate:modelValue":I[3]||(I[3]=g=>o.value.plan=g),label:"訂購方案",class:"w-full sm:w-1/2",name:"plan",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",yo,[u(A,{modelValue:o.value.cardName,"onUpdate:modelValue":I[4]||(I[4]=g=>o.value.cardName=g),label:"車款",class:"w-full sm:w-1/2",name:"fullname",readonly:"",preset:"solid"},null,8,["modelValue"]),u(A,{modelValue:o.value.packageName,"onUpdate:modelValue":I[5]||(I[5]=g=>o.value.packageName=g),label:"用車方案",class:"w-full sm:w-1/2",name:"fullname",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",go,[u(A,{modelValue:o.value.serviceDate,"onUpdate:modelValue":I[6]||(I[6]=g=>o.value.serviceDate=g),label:"行程日期",class:"w-full sm:w-1/2",name:"fullname",readonly:"",preset:"solid"},null,8,["modelValue"]),u(A,{modelValue:o.value.serviceDuring,"onUpdate:modelValue":I[7]||(I[7]=g=>o.value.serviceDuring=g),label:"起始時間",class:"w-full sm:w-1/2",name:"serviceDuring",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",vo,[u(A,{modelValue:o.value.days,"onUpdate:modelValue":I[8]||(I[8]=g=>o.value.days=g),label:"天數",class:"w-full sm:w-1/2",name:"serviceDuring",readonly:"",preset:"solid"},null,8,["modelValue"]),u(A,{modelValue:o.value.passengerNumber,"onUpdate:modelValue":I[9]||(I[9]=g=>o.value.passengerNumber=g),label:"乘客人數",class:"w-full sm:w-1/2",name:"numTourists",readonly:"",preset:"solid"},null,8,["modelValue"])]),u(N,{modelValue:o.value.pickupLocation,"onUpdate:modelValue":I[10]||(I[10]=g=>o.value.pickupLocation=g),label:"上車地點",class:"w-full",name:"customLocation",readonly:"",preset:"solid"},null,8,["modelValue"]),u(N,{modelValue:o.value.dropOffLocation,"onUpdate:modelValue":I[11]||(I[11]=g=>o.value.dropOffLocation=g),label:"下車地點",class:"w-full",name:"customLocation",readonly:"",preset:"solid"},null,8,["modelValue"]),u(N,{modelValue:o.value.travelPlanNote,"onUpdate:modelValue":I[12]||(I[12]=g=>o.value.travelPlanNote=g),label:"預計行程路線",class:"w-full",name:"note",readonly:"",preset:"solid"},null,8,["modelValue"]),u(U,{class:"w-full",orientation:"left"},{default:O(()=>[wo]),_:1}),V("div",Vo,[u(A,{modelValue:f.value.firstName,"onUpdate:modelValue":I[13]||(I[13]=g=>f.value.firstName=g),label:"訂購人",class:"w-full sm:w-1/2",name:"firstName",readonly:"",preset:"solid"},null,8,["modelValue"]),u(A,{modelValue:f.value.email,"onUpdate:modelValue":I[15]||(I[15]=g=>f.value.email=g),label:"連絡信箱",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},{appendInner:O(()=>[u(y,{name:"content_copy",color:"secondary",onClick:I[14]||(I[14]=()=>W(f.value.email))})]),_:1},8,["modelValue"])]),V("div",To,[u(A,{modelValue:f.value.phoneCode,"onUpdate:modelValue":I[16]||(I[16]=g=>f.value.phoneCode=g),label:"手機國碼",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},null,8,["modelValue"]),u(A,{modelValue:f.value.phone,"onUpdate:modelValue":I[18]||(I[18]=g=>f.value.phone=g),label:"手機號碼",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},{appendInner:O(()=>[u(y,{name:"content_copy",color:"secondary",onClick:I[17]||(I[17]=()=>W(f.value.phone))})]),_:1},8,["modelValue"])]),V("div",So,[u(A,{modelValue:f.value.lineId,"onUpdate:modelValue":I[20]||(I[20]=g=>f.value.lineId=g),label:"Line ID",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},te({_:2},[f.value.lineId?{name:"appendInner",fn:O(()=>[u(y,{name:"content_copy",color:"secondary",onClick:I[19]||(I[19]=()=>W(f.value.lineId))})]),key:"0"}:void 0]),1032,["modelValue"]),u(A,{modelValue:f.value.wechatId,"onUpdate:modelValue":I[22]||(I[22]=g=>f.value.wechatId=g),label:"WECHAT ID",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},te({_:2},[f.value.wechatId?{name:"appendInner",fn:O(()=>[u(y,{name:"content_copy",color:"secondary",onClick:I[21]||(I[21]=()=>W(f.value.wechatId))})]),key:"0"}:void 0]),1032,["modelValue"])]),V("div",Io,[u(A,{modelValue:f.value.telegramId,"onUpdate:modelValue":I[24]||(I[24]=g=>f.value.telegramId=g),label:"TELEGRAM",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},te({_:2},[f.value.telegramId?{name:"appendInner",fn:O(()=>[u(y,{name:"content_copy",color:"secondary",onClick:I[23]||(I[23]=()=>W(f.value.telegramId))})]),key:"0"}:void 0]),1032,["modelValue"]),u(A,{modelValue:f.value.zaloId,"onUpdate:modelValue":I[26]||(I[26]=g=>f.value.zaloId=g),label:"ZALO",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},te({_:2},[f.value.zaloId?{name:"appendInner",fn:O(()=>[u(y,{name:"content_copy",color:"secondary",onClick:I[25]||(I[25]=()=>W(f.value.zaloId))})]),key:"0"}:void 0]),1032,["modelValue"])]),u(U,{class:"w-full",orientation:"left"},{default:O(()=>[xo]),_:1}),u(q,{modelValue:o.value.manualOperationStatus,"onUpdate:modelValue":I[27]||(I[27]=g=>o.value.manualOperationStatus=g),label:"操作狀態",class:"w-full",options:p,name:"projects","text-by":"text","track-by":"value","value-by":"value"},null,8,["modelValue"]),u(U,{class:"w-full",orientation:"left"},{default:O(()=>[ko]),_:1}),V("div",bo,[u(P,{preset:"secondary",color:"secondary",onClick:I[28]||(I[28]=g=>w.$emit("close"))},{default:O(()=>[Se("取消")]),_:1}),u(P,{disabled:!T,onClick:E},{default:O(()=>[Se(se(s.saveButtonLabel),1)]),_:2},1032,["disabled"])])])]),_:1},512)}}}),{formatDate:Do}=ve(),No=()=>Z({page:1,perPage:10,total:0}),Eo=()=>Z({sortBy:"createdAt",sortingOrder:null}),Mo=()=>Z({isActive:!0,search:""}),Co=s=>{const e=Z(!1),t=Z([]),{filters:a=Mo(),sorting:n=Eo(),pagination:r=No()}=s||{},l=async()=>{e.value=!0;const m={...Y(a),sortBy:n.value.sortBy,sortOrder:n.value.sortingOrder,offset:(r.value.page-1)*r.value.perPage,limit:r.value.perPage,...a.value.isActive&&{excludeStatus:"initial"},...!a.value.isActive&&{status:"initial"}},{data:v}=await pe.getOrders(m);t.value=v.data;const o={page:r.value.page,perPage:10,total:v.total};i(()=>{r.value=o}),e.value=!1},{ignoreUpdates:i}=kt([r,n],l,{deep:!0});return bt(a,()=>{r.value.page=1,l()},{deep:!0}),l(),{isLoading:e,filters:a,sorting:n,pagination:r,orders:t,fetch:l,getServiceDate:m=>Do(Number(m.orderPlanDragonMassage.time)),getStartTime:m=>D.fromMillis(Number(m.orderPlanDragonMassage.time),{zone:"Asia/Ho_Chi_Minh"}).toFormat("HH:mm"),getStartTime2:m=>D.fromMillis(Number(m.orderPlanDragonMassage.secondTime),{zone:"Asia/Ho_Chi_Minh"}).toFormat("HH:mm"),async add(m){console.log("add order",m)},async update(m){console.log("update order",m)},async remove(m){console.log("remove order",m)}}},Ao={class:"self-stretch flex-col justify-start items-start gap-4 flex"},$o=V("span",{class:"px-2"},"訂單資訊",-1),Fo={class:"flex gap-4 flex-col sm:flex-row w-full"},Po={class:"flex gap-4 flex-col sm:flex-row w-full"},Uo={class:"flex gap-4 flex-col sm:flex-row w-full"},Lo={class:"flex gap-4 flex-col sm:flex-row w-full"},_o={class:"flex gap-4 flex-col sm:flex-row w-full"},Wo={class:"flex gap-4 flex-col sm:flex-row w-full"},Ho={key:0,class:"w-full"},Ro=V("div",{class:"mb-2 text-sm font-medium text-gray-700"},"旅店圖片",-1),zo={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Zo=["onClick"],qo=["src","alt"],Go=V("span",{class:"px-2"},"管理確認區",-1),Yo={class:"w-full"},Bo={key:0,class:"w-full mt-4"},jo={class:"flex gap-4 flex-col sm:flex-row w-full"},Jo=V("div",{class:"text-sm text-gray-600 mt-1"},"* 時間將以越南時區保存",-1),Xo=V("span",{class:"px-2"},"訂單狀態",-1),Qo=V("span",{class:"px-2"},"聯絡資訊",-1),Ko={class:"flex gap-4 flex-col sm:flex-row w-full"},ei={class:"flex gap-4 flex-col sm:flex-row w-full"},ti={class:"flex gap-4 flex-col sm:flex-row w-full"},si={class:"flex gap-4 flex-col sm:flex-row w-full"},ai=V("span",{class:"px-2"},"結帳資訊",-1),ni={class:"flex gap-2 flex-col-reverse items-stretch justify-end w-full sm:flex-row sm:items-center"},ri=Ge({__name:"OrderMassageDetailForm",props:{order:{type:Object,required:!0},saveButtonLabel:{type:String,default:"Save"}},emits:["close","save"],setup(s,{emit:e}){const{notify:t}=at(),{formatDate:a,formatDateV:n}=ve(),{categorys:r}=$e(),{getStartTime:l,getStartTime2:i}=Co(),d=st(),h={1:"龍筋按摩"},p=[{text:"待處理",value:ne.PENDING},{text:"已處理",value:ne.PROCESSED}],m=s,v={id:-1,createdAt:"",category:"",plan:"",serviceDate:"",serviceStartTime:"",note:"",serviceDate2:"",serviceStartTime2:"",hotelAddress:"",needHotelBooking:"",manualOperationStatus:ne.PENDING,hotelImageUrls:[],confirmedTherapistId:null,selectedTherapists:"",confirmedTime:""},o=ae(()=>{if(!m.order)return v;const g=a(Number(m.order.orderPlanDragonMassage.createdAt));return{id:m.order.id,manualOperationStatus:m.order.manualOperationStatus,createdAt:g,category:r[m.order.type],plan:h[m.order.orderPlanDragonMassage.planId],selectedTherapists:f(m.order.orderPlanDragonMassage.selectedTherapists||[]),serviceDate:n(Number(m.order.orderPlanDragonMassage.time)),serviceStartTime:l(m.order),serviceDate2:n(Number(m.order.orderPlanDragonMassage.secondTime)),serviceStartTime2:i(m.order),hotelAddress:m.order.orderPlanDragonMassage.hotelAddress,note:m.order.orderPlanDragonMassage.note,needHotelBooking:m.order.orderPlanDragonMassage.needHotelBooking?"是":"否",hotelImageUrls:m.order.orderPlanDragonMassage.hotelImageUrls||[],confirmedTherapistId:m.order.orderPlanDragonMassage.confirmedTherapistId||null,confirmedTime:m.order.orderPlanDragonMassage.confirmedTime||""}}),f=g=>g.map(c=>{const $=d.therapists.find(L=>L.id===c);return $?`${c}.${$.name}`:`未知導遊(${c})`}).join(", "),b=ae(()=>{var x,ge,xe,ke,C,le;const g=(x=m.order.userInfo.socialMedia.find(we=>we.type==="line"))==null?void 0:x.accountId,c=(ge=m.order.userInfo.socialMedia.find(we=>we.type==="wechat"))==null?void 0:ge.accountId,$=(xe=m.order.userInfo.socialMedia.find(we=>we.type==="telegram"))==null?void 0:xe.accountId,L=(ke=m.order.userInfo.socialMedia.find(we=>we.type==="zalo"))==null?void 0:ke.accountId;return{firstName:m.order.userInfo.firstName,email:m.order.userInfo.email,phone:(C=m.order.userInfo.phone)==null?void 0:C.phoneNumber,phoneCode:(le=m.order.userInfo.phone)==null?void 0:le.code,lineId:g,wechatId:c,telegramId:$,zaloId:L}}),S=e,E=async()=>{if(m.order.manualOperationStatus!==o.value.manualOperationStatus&&await pe.updateManualOperationStatus({orderId:m.order.id,manualOperationStatus:o.value.manualOperationStatus}),m.order.orderPlanDragonMassage.confirmedTherapistId!==G.value||T.value!==m.order.orderPlanDragonMassage.confirmedTime){let g=T.value;if(T.value==="custom"&&A.value&&N.value){const c=D.fromJSDate(A.value).toFormat("yyyy-MM-dd"),$=D.fromJSDate(N.value).toFormat("HH:mm"),L=`${c} ${$}`;g=D.fromFormat(L,"yyyy-MM-dd HH:mm",{zone:"Asia/Ho_Chi_Minh"}).toMillis().toString()}await pe.updateMassageOrder({orderId:m.order.id,planParams:{confirmedTherapistId:G.value,confirmedTime:g}})}S("save")};Ot(()=>{G.value=o.value.confirmedTherapistId||null;const g=o.value.confirmedTime||"";if(g)if(g===m.order.orderPlanDragonMassage.time||g===m.order.orderPlanDragonMassage.secondTime)T.value=g;else{T.value="custom";const $=D.fromMillis(Number(g),{zone:"Asia/Ho_Chi_Minh"}),L=$.year,x=$.month-1,ge=$.day,xe=$.hour,ke=$.minute;A.value=new Date(L,x,ge),N.value=new Date(2e3,0,1,xe,ke)}});const W=async g=>{if(g)try{await navigator.clipboard.writeText(g),t({message:`已複製到剪貼簿: ${g}`,duration:3e3})}catch(c){alert(`Failed to copy text: ${c}`)}},w=g=>{window.open(g,"_blank")},I=g=>{const c=g.target;c&&(c.style.display="none")},U=ae(()=>{if(!m.order)return[];const g=[],{formatDateTimeV:c}=ve();m.order.orderPlanDragonMassage.time&&g.push({text:`時間 1: ${c(Number(m.order.orderPlanDragonMassage.time))}`,value:m.order.orderPlanDragonMassage.time}),m.order.orderPlanDragonMassage.secondTime&&g.push({text:`時間 2: ${c(Number(m.order.orderPlanDragonMassage.secondTime))}`,value:m.order.orderPlanDragonMassage.secondTime});let $="自訂時間";if(T.value==="custom"&&A.value&&N.value){const L=D.fromJSDate(A.value).toFormat("yyyy-MM-dd"),x=D.fromJSDate(N.value).toFormat("HH:mm");$=`自訂時間: ${L} ${x}`}return g.push({text:$,value:"custom"}),g}),A=Z(new Date),N=Z(new Date),y=ae(()=>T.value==="custom"),q=()=>{},P=ae(()=>d.therapists.map(g=>({text:`${g.id}.${g.name}`,value:g.id}))),G=Z(null),T=Z("");return(g,c)=>{const $=_("VaDivider"),L=_("VaInput"),x=_("VaTextarea"),ge=_("VaSelect"),xe=_("VaDateInput"),ke=_("VaTimeInput"),C=_("VaIcon"),le=_("VaButton"),we=_("VaForm");return Q(),Te(we,{ref:"add-user-form",class:"flex-col justify-start items-start gap-4 inline-flex w-full"},{default:O(({isValid:La})=>[V("div",Ao,[u($,{class:"w-full",orientation:"left"},{default:O(()=>[$o]),_:1}),V("div",Fo,[u(L,{modelValue:o.value.id,"onUpdate:modelValue":c[0]||(c[0]=M=>o.value.id=M),label:"訂單編號",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},null,8,["modelValue"]),u(L,{modelValue:o.value.createdAt,"onUpdate:modelValue":c[1]||(c[1]=M=>o.value.createdAt=M),label:"下訂時間",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",Po,[u(L,{modelValue:o.value.category,"onUpdate:modelValue":c[2]||(c[2]=M=>o.value.category=M),label:"訂購項目",class:"w-full sm:w-1/2",name:"category",readonly:"",preset:"solid"},null,8,["modelValue"]),u(L,{modelValue:o.value.plan,"onUpdate:modelValue":c[3]||(c[3]=M=>o.value.plan=M),label:"訂購方案",class:"w-full sm:w-1/2",name:"plan",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",Uo,[u(L,{modelValue:o.value.serviceDate,"onUpdate:modelValue":c[4]||(c[4]=M=>o.value.serviceDate=M),label:"預約日期",class:"w-full sm:w-1/2",name:"fullname",readonly:"",preset:"solid"},null,8,["modelValue"]),u(L,{modelValue:o.value.serviceStartTime,"onUpdate:modelValue":c[5]||(c[5]=M=>o.value.serviceStartTime=M),label:"起始時間",class:"w-full sm:w-1/2",name:"serviceStartTime",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",Lo,[u(L,{modelValue:o.value.serviceDate2,"onUpdate:modelValue":c[6]||(c[6]=M=>o.value.serviceDate2=M),label:"預約日期2",class:"w-full sm:w-1/2",name:"fullname",readonly:"",preset:"solid"},null,8,["modelValue"]),u(L,{modelValue:o.value.serviceStartTime2,"onUpdate:modelValue":c[7]||(c[7]=M=>o.value.serviceStartTime2=M),label:"起始時間2",class:"w-full sm:w-1/2",name:"serviceStartTime",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",_o,[u(L,{modelValue:o.value.selectedTherapists,"onUpdate:modelValue":c[8]||(c[8]=M=>o.value.selectedTherapists=M),label:"技師偏好",class:"w-full",name:"guideExpect",readonly:"",preset:"solid"},null,8,["modelValue"])]),V("div",Wo,[u(L,{modelValue:o.value.needHotelBooking,"onUpdate:modelValue":c[9]||(c[9]=M=>o.value.needHotelBooking=M),label:"代訂旅店",class:"w-full sm:w-1/2",name:"fullname",readonly:"",preset:"solid"},null,8,["modelValue"])]),u(x,{modelValue:o.value.hotelAddress,"onUpdate:modelValue":c[10]||(c[10]=M=>o.value.hotelAddress=M),label:"旅店地址",class:"w-full",name:"customLocation",readonly:"",preset:"solid"},null,8,["modelValue"]),o.value.hotelImageUrls&&o.value.hotelImageUrls.length>0?(Q(),Ve("div",Ho,[Ro,V("div",zo,[(Q(!0),Ve(Vt,null,Us(o.value.hotelImageUrls,(M,ts)=>(Q(),Ve("div",{key:ts,class:"relative aspect-square overflow-hidden rounded-lg border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",onClick:di=>w(M)},[V("img",{src:M,alt:`旅店圖片 ${ts+1}`,class:"w-full h-full object-cover",loading:"lazy",onError:I},null,40,qo)],8,Zo))),128))])])):Ze("",!0),u(x,{modelValue:o.value.note,"onUpdate:modelValue":c[11]||(c[11]=M=>o.value.note=M),label:"訂單備註",class:"w-full",name:"customLocation",readonly:"",preset:"solid"},null,8,["modelValue"]),u($,{class:"w-full",orientation:"left"},{default:O(()=>[Go]),_:1}),V("div",Yo,[u(ge,{modelValue:G.value,"onUpdate:modelValue":c[12]||(c[12]=M=>G.value=M),label:"龍筋老師指派",class:"w-full",options:P.value,name:"projects","text-by":"text","track-by":"value","value-by":"value",placeholder:"未指派"},null,8,["modelValue","options"]),u(ge,{modelValue:T.value,"onUpdate:modelValue":c[13]||(c[13]=M=>T.value=M),label:"時間確認",class:"w-full mt-4",options:U.value,name:"confirmedTime","text-by":"text","track-by":"value","value-by":"value",placeholder:"請選擇確認時間",clearable:""},null,8,["modelValue","options"]),y.value?(Q(),Ve("div",Bo,[V("div",jo,[u(xe,{modelValue:A.value,"onUpdate:modelValue":c[14]||(c[14]=M=>A.value=M),label:"自訂日期",class:"w-full sm:w-1/2",placeholder:"請選擇日期",clearable:"",onInput:q},null,8,["modelValue"]),u(ke,{modelValue:N.value,"onUpdate:modelValue":c[15]||(c[15]=M=>N.value=M),label:"自訂時間",class:"w-full sm:w-1/2",placeholder:"請選擇時間",clearable:"",onInput:q},null,8,["modelValue"])]),Jo])):Ze("",!0)]),u($,{class:"w-full",orientation:"left"},{default:O(()=>[Xo]),_:1}),u(ge,{modelValue:o.value.manualOperationStatus,"onUpdate:modelValue":c[16]||(c[16]=M=>o.value.manualOperationStatus=M),label:"操作狀態",class:"w-full",options:p,name:"projects","text-by":"text","track-by":"value","value-by":"value"},null,8,["modelValue"]),u($,{class:"w-full",orientation:"left"},{default:O(()=>[Qo]),_:1}),V("div",Ko,[u(L,{modelValue:b.value.firstName,"onUpdate:modelValue":c[17]||(c[17]=M=>b.value.firstName=M),label:"訂購人",class:"w-full sm:w-1/2",name:"firstName",readonly:"",preset:"solid"},null,8,["modelValue"]),u(L,{modelValue:b.value.email,"onUpdate:modelValue":c[19]||(c[19]=M=>b.value.email=M),label:"連絡信箱",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},{appendInner:O(()=>[u(C,{name:"content_copy",color:"secondary",onClick:c[18]||(c[18]=()=>W(b.value.email))})]),_:1},8,["modelValue"])]),V("div",ei,[u(L,{modelValue:b.value.phoneCode,"onUpdate:modelValue":c[20]||(c[20]=M=>b.value.phoneCode=M),label:"手機國碼",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},null,8,["modelValue"]),u(L,{modelValue:b.value.phone,"onUpdate:modelValue":c[22]||(c[22]=M=>b.value.phone=M),label:"手機號碼",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},{appendInner:O(()=>[u(C,{name:"content_copy",color:"secondary",onClick:c[21]||(c[21]=()=>W(b.value.phone))})]),_:1},8,["modelValue"])]),V("div",ti,[u(L,{modelValue:b.value.lineId,"onUpdate:modelValue":c[24]||(c[24]=M=>b.value.lineId=M),label:"Line ID",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},te({_:2},[b.value.lineId?{name:"appendInner",fn:O(()=>[u(C,{name:"content_copy",color:"secondary",onClick:c[23]||(c[23]=()=>W(b.value.lineId))})]),key:"0"}:void 0]),1032,["modelValue"]),u(L,{modelValue:b.value.wechatId,"onUpdate:modelValue":c[26]||(c[26]=M=>b.value.wechatId=M),label:"WECHAT ID",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},te({_:2},[b.value.wechatId?{name:"appendInner",fn:O(()=>[u(C,{name:"content_copy",color:"secondary",onClick:c[25]||(c[25]=()=>W(b.value.wechatId))})]),key:"0"}:void 0]),1032,["modelValue"])]),V("div",si,[u(L,{modelValue:b.value.telegramId,"onUpdate:modelValue":c[28]||(c[28]=M=>b.value.telegramId=M),label:"TELEGRAM",class:"w-full sm:w-1/2",name:"id",readonly:"",preset:"solid"},te({_:2},[b.value.telegramId?{name:"appendInner",fn:O(()=>[u(C,{name:"content_copy",color:"secondary",onClick:c[27]||(c[27]=()=>W(b.value.telegramId))})]),key:"0"}:void 0]),1032,["modelValue"]),u(L,{modelValue:b.value.zaloId,"onUpdate:modelValue":c[30]||(c[30]=M=>b.value.zaloId=M),label:"ZALO",class:"w-full sm:w-1/2",name:"createdAt",readonly:"",preset:"solid"},te({_:2},[b.value.zaloId?{name:"appendInner",fn:O(()=>[u(C,{name:"content_copy",color:"secondary",onClick:c[29]||(c[29]=()=>W(b.value.zaloId))})]),key:"0"}:void 0]),1032,["modelValue"])]),u($,{class:"w-full",orientation:"left"},{default:O(()=>[ai]),_:1}),V("div",ni,[u(le,{preset:"secondary",color:"secondary",onClick:c[31]||(c[31]=M=>g.$emit("close"))},{default:O(()=>[Se("取消")]),_:1}),u(le,{disabled:!La,onClick:E},{default:O(()=>[Se(se(s.saveButtonLabel),1)]),_:2},1032,["disabled"])])])]),_:1},512)}}}),li=V("h1",{class:"page-title"},"訂單管理",-1),oi={class:"flex flex-col md:flex-row gap-2 mb-2 justify-between"},ii={class:"flex flex-col md:flex-row gap-2 justify-start"},ui={class:"va-h5"},yi=Ge({__name:"OrdersPage",setup(s){const e=Z(!1),{orders:t,isLoading:a,filters:n,sorting:r,pagination:l,...i}=$e(),d=Z(null),h=b=>{d.value=b,e.value=!0},{init:p}=at(),m=async()=>{i.fetch()},v=async b=>{await i.remove(b),p({message:`${b.id} has been deleted`,color:"success"})},o=Z(),f=async b=>{b()};return(b,S)=>{const E=_("VaButtonToggle"),W=_("VaIcon"),w=_("VaInput"),I=_("VaCardContent"),U=_("VaCard"),A=_("VaModal");return Q(),Ve(Vt,null,[li,u(U,null,{default:O(()=>[u(I,null,{default:O(()=>[V("div",oi,[V("div",ii,[u(E,{modelValue:Y(n).isActive,"onUpdate:modelValue":S[0]||(S[0]=N=>Y(n).isActive=N),color:"background-element","border-color":"background-element",options:[{label:"訂單",value:!0},{label:"草稿",value:!1}]},null,8,["modelValue"]),u(w,{modelValue:Y(n).search,"onUpdate:modelValue":S[1]||(S[1]=N=>Y(n).search=N),placeholder:"Search"},{prependInner:O(()=>[u(W,{name:"search",color:"secondary",size:"small"})]),_:1},8,["modelValue"])])]),u(yl,{"sort-by":Y(r).sortBy,"onUpdate:sortBy":S[2]||(S[2]=N=>Y(r).sortBy=N),"sorting-order":Y(r).sortingOrder,"onUpdate:sortingOrder":S[3]||(S[3]=N=>Y(r).sortingOrder=N),orders:Y(t),loading:Y(a),pagination:Y(l),onEditOrder:h,onDeleteUser:v},null,8,["sort-by","sorting-order","orders","loading","pagination"])]),_:1})]),_:1}),u(A,{modelValue:e.value,"onUpdate:modelValue":S[4]||(S[4]=N=>e.value=N),size:"small","mobile-fullscreen":"","close-button":"","hide-default-actions":"","before-cancel":f},{default:O(({cancel:N,ok:y})=>[V("h1",ui,"訂單編號 "+se(d.value.id),1),d.value.type===Y(X).ESCORT?(Q(),Te(Al,{key:0,ref_key:"editFormRef",ref:o,order:d.value,"save-button-label":"儲存",onClose:N,onSave:()=>{m(),y()}},null,8,["order","onClose","onSave"])):Ze("",!0),d.value.type===Y(X).MASSAGE?(Q(),Te(ri,{key:1,ref_key:"editFormRef",ref:o,order:d.value,"save-button-label":"儲存",onClose:N,onSave:()=>{m(),y()}},null,8,["order","onClose","onSave"])):d.value.type===Y(X).SHUTTLE?(Q(),Te(no,{key:2,ref_key:"editFormRef",ref:o,order:d.value,"save-button-label":"儲存",onClose:N,onSave:()=>{m(),y()}},null,8,["order","onClose","onSave"])):d.value.type===Y(X).CHARTER?(Q(),Te(Oo,{key:3,ref_key:"editFormRef",ref:o,order:d.value,"save-button-label":"儲存",onClose:N,onSave:()=>{m(),y()}},null,8,["order","onClose","onSave"])):Ze("",!0)]),_:1},8,["modelValue"])],64)}}});export{yi as default};
//# sourceMappingURL=OrdersPage-7610b48d.js.map
