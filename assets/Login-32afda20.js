import{d as L,a4 as C,a2 as B,f as t,a as F,g as N,w as n,b as m,i as l,h as s,u as r,R as _}from"./index-2047d961.js";import{u as R}from"./useForm-db53d85f.js";import{u as T}from"./useToast-40e00461.js";import{v as i}from"./utils-b2fc192b.js";import{u as A,a as V}from"./api-8d6cb5ba.js";const S=m("h1",{class:"font-semibold text-4xl mb-4"},"Log in",-1),U={class:"text-base mb-4 leading-5"},j={class:"auth-layout__options flex flex-col sm:flex-row items-start sm:items-center justify-between"},q={class:"flex justify-center mt-4"},z=L({__name:"Login",setup(D){const{firebaseLogin:b}=A(),{validate:g}=R("form"),{push:v}=C(),{init:x}=T(),e=B({email:"",password:"",keepLoggedIn:!1}),u=async()=>{if(g()){const{accessToken:c}=await b(e.email,e.password);V.setAuthToken(c),await V.login(),x({message:"You've successfully logged in",color:"success"}),v({name:"dashboard"})}};return(c,a)=>{const d=t("RouterLink"),p=t("VaInput"),k=t("VaIcon"),w=t("VaValue"),y=t("VaCheckbox"),h=t("VaButton"),I=t("VaForm");return F(),N(I,{ref:"form",onSubmit:_(u,["prevent"])},{default:n(()=>[S,m("p",U,[l(" New to Vuestic? "),s(d,{to:{name:"signup"},class:"font-semibold text-primary"},{default:n(()=>[l("Sign up")]),_:1})]),s(p,{modelValue:e.email,"onUpdate:modelValue":a[0]||(a[0]=o=>e.email=o),rules:[r(i).required,r(i).email],class:"mb-4",label:"Email",type:"email"},null,8,["modelValue","rules"]),s(w,{"default-value":!1},{default:n(o=>[s(p,{modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=f=>e.password=f),rules:[r(i).required],type:o.value?"text":"password",class:"mb-4",label:"Password",onClickAppendInner:_(f=>o.value=!o.value,["stop"])},{appendInner:n(()=>[s(k,{name:o.value?"mso-visibility_off":"mso-visibility",class:"cursor-pointer",color:"secondary"},null,8,["name"])]),_:2},1032,["modelValue","rules","type","onClickAppendInner"])]),_:1}),m("div",j,[s(y,{modelValue:e.keepLoggedIn,"onUpdate:modelValue":a[2]||(a[2]=o=>e.keepLoggedIn=o),class:"mb-2 sm:mb-0",label:"Keep me signed in on this device"},null,8,["modelValue"]),s(d,{to:{name:"recover-password"},class:"mt-2 sm:mt-0 sm:ml-1 font-semibold text-primary"},{default:n(()=>[l(" Forgot password? ")]),_:1})]),m("div",q,[s(h,{class:"w-full",onClick:u},{default:n(()=>[l(" Login")]),_:1})])]),_:1},8,["onSubmit"])}}});export{z as default};
//# sourceMappingURL=Login-32afda20.js.map
